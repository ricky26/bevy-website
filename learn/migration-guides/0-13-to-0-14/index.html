


  



  
  
  
    
    
  
    
    
  
    
    
      
      




  
    
  


  


  
    
  


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="0.13 to 0.14" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bevyengine.org&#x2F;&#x2F;learn&#x2F;migration-guides&#x2F;0-13-to-0-14&#x2F;" />
    <meta property="og:image"
          content="https://bevyengine.org/assets/bevy_logo_fill.png" />
    <meta property="og:description"
          content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" />
    <link rel="shortcut icon" type="image/png" href="/assets/favicon.png">
    <link rel="stylesheet" href="/site.css" />
    <link href="/atom.xml" rel="alternate" type="application/atom+xml" />
    
    <meta name="robots" content="noindex, nofollow, noarchive">
    

    <title>[DRAFT] 0.13 to 0.14</title>
    
  

  
    
    
  
    
    
  
    
    
  

  <script src="/optional-helpers.js"></script>
  <script defer src="/on-this-page.js"></script>

  </head>
  <body>
    <div class="layout">
      <input id="mobile-menu-state" class="hidden" type="checkbox">
      <header class="layout__header header print:hidden" data-mobile-menu-state-container>
        <div class="header__content">
          <label class="main-menu-backdrop" for="mobile-menu-state"></label>
          <label class="header__hamburger button-square button-square--header"
                  for="mobile-menu-state">
            <img src="/assets/icon-hamburger.svg"
                  alt="Three horizontal lines stacked on top of eachother"
                  width="20"
                  height="16">
          </label>
          <div class="header__left-block">
            <a class="header__logo" href="/">
              <img class="logo"
                    src="/assets/bevy_logo_dark.svg"
                    alt="Bevy Engine"
                    width="520"
                    height="130">
            </a>
            <div class="header__message">
              
                Migration Guides
              
            </div>
          </div>
          
  <input id="page-menu-switch-state" class="hidden" type="checkbox" checked>

          <nav class="header__menu main-menu main-menu--with-page-menu"
                role="navigation"
                data-page-menu-switch-state-container>
            <div class="main-menu__header">
              <a href="/">
                <img class="logo"
                      src="/assets/bevy_logo_dark.svg"
                      alt="Bevy Engine"
                      width="520"
                      height="130">
              </a>
              <label class="button-square button-square--header" for="mobile-menu-state">
                <img src="/assets/icon-times.svg"
                      alt="A saltire or x-cross"
                      width="16"
                      height="16">
              </label>
            </div>
            
  <div class="main-menu__page-menu-switch">
    <label class="menu-switch" for="page-menu-switch-state">
      <div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div>
      <div class="menu-switch__option menu-switch__option--page-menu">
        
  
    Migration Guides
  

      </div>
    </label>
  </div>

            <div class="main-menu__content">
              <div class="main-menu__page-menu">
                
  
  <ul class="tree-menu">
    
    
    
    
    
      
        
          
  
  
  
  
  
  
    
  
  
    
    
      
    
  
  <li class="tree-menu__item tree-menu__item--active public_draft active_draft">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-13-to-0-14&#x2F;">0.13 to 0.14</a>
      
        
<nav aria-label="On This Page" class="on-this-page tree-menu__toc">
  
  <ul>
  
    <li>
      <a href="#fix-node2d-typo">Fix Node2d typo</a>
      
    </li>
  
    <li>
      <a href="#update-to-fixedbitset-0-5">Update to fixedbitset 0.5</a>
      
    </li>
  
    <li>
      <a href="#move-wasm-panic-handler-from-logplugin-to-panichandlerplugin">Move WASM panic handler from LogPlugin to PanicHandlerPlugin</a>
      
    </li>
  
    <li>
      <a href="#animationclip-now-uses-uuids-and-nooptypeidhash-is-now-noophash">AnimationClip now uses UUIDs and NoOpTypeIdHash is now NoOpHash</a>
      
    </li>
  
    <li>
      <a href="#multiplying-linearrgba-by-f32-no-longer-ignores-alpha-channel">Multiplying LinearRgba by f32 no longer ignores alpha channel</a>
      
    </li>
  
    <li>
      <a href="#separate-subapp-from-app">Separate SubApp from App</a>
      
        <ul>
          
          <li>
            <a href="#constructing-a-subapp">Constructing a SubApp</a>
          </li>
          
          <li>
            <a href="#app-changes">App changes</a>
          </li>
          
          <li>
            <a href="#3rd-party-traits-on-app">3rd-party traits on App</a>
          </li>
          
        </ul>
      
    </li>
  
    <li>
      <a href="#make-appexit-more-specific-about-exit-reason">Make AppExit more specific about exit reason</a>
      
    </li>
  
    <li>
      <a href="#deprecate-dynamic-plugins">Deprecate dynamic plugins</a>
      
    </li>
  
    <li>
      <a href="#remove-the-updateassets-and-assetevents-schedules">Remove the UpdateAssets and AssetEvents schedules</a>
      
    </li>
  
    <li>
      <a href="#use-async-fn-in-traits-rather-than-boxedfuture">Use async-fn in traits rather than BoxedFuture</a>
      
    </li>
  
    <li>
      <a href="#make-assetaction-ignore-not-copy-assets-to-imported-assets">Make AssetAction::Ignore not copy assets to imported_assets</a>
      
    </li>
  
    <li>
      <a href="#removed-into-assedid-for-handle-as-mentioned-in-12600">Removed Into&lt;AssedId&gt; for Handle as mentioned in #12600</a>
      
    </li>
  
    <li>
      <a href="#add-asyncseek-trait-to-reader-to-be-able-to-seek-inside-asset-loaders">Add AsyncSeek trait to Reader to be able to seek inside asset loaders</a>
      
    </li>
  
    <li>
      <a href="#error-info-has-been-added-to-loadstate-failed">Error info has been added to LoadState::Failed</a>
      
    </li>
  
    <li>
      <a href="#make-assetmetacheck-a-field-on-the-asset-plugin">Make AssetMetaCheck a field on the asset plugin</a>
      
    </li>
  
    <li>
      <a href="#add-more-load-direct-implementations">Add more load_direct implementations</a>
      
    </li>
  
    <li>
      <a href="#make-loadcontext-use-the-builder-pattern-for-loading-dependent-assets">Make LoadContext use the builder pattern for loading dependent assets</a>
      
    </li>
  
    <li>
      <a href="#allow-setting-renderassetusages-for-gltf-meshes-materials-during-load">Allow setting RenderAssetUsages for gLTF meshes &amp; materials during load</a>
      
    </li>
  
    <li>
      <a href="#consolidate-render-ui-materials-2d-into-renderassets">Consolidate Render(Ui)Materials(2d) into RenderAssets</a>
      
    </li>
  
    <li>
      <a href="#fix-leftover-references-to-children-when-despawning-audio-entities">Fix leftover references to children when despawning audio entities</a>
      
    </li>
  
    <li>
      <a href="#check-cfg-during-ci-and-fix-feature-typos">Check cfg during CI and fix feature typos</a>
      
    </li>
  
    <li>
      <a href="#tools-refactor-ci-to-use-argh">tools: Refactor CI to use argh</a>
      
    </li>
  
    <li>
      <a href="#move-wgsl-color-operations-from-bevy-pbr-to-bevy-render">move wgsl color operations from bevy_pbr to bevy_render</a>
      
    </li>
  
    <li>
      <a href="#remove-clampcolor">Remove ClampColor</a>
      
    </li>
  
    <li>
      <a href="#migrate-from-legacycolor-to-bevy-color-color">Migrate from LegacyColor to bevy_color::Color</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-created-a-private-trait-standardcolor">bevy_color: Created a private trait StandardColor</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-added-xyza-colour-space">bevy_color: Added Xyza Colour Space</a>
      
    </li>
  
    <li>
      <a href="#made-bevy-color-a-dependency-of-bevy-render">Made bevy_color a dependency of bevy_render</a>
      
    </li>
  
    <li>
      <a href="#port-bevy-core-pipeline-to-linearrgba">Port bevy_core_pipeline to LinearRgba</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-added-hsva-and-hwba-models">bevy_color: Added Hsva and Hwba Models</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-add-laba-to-support-lab-color-model">bevy_color: Add Laba to support Lab Color Model</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-add-oklch-color-space">bevy_color: Add Oklch Color Space</a>
      
    </li>
  
    <li>
      <a href="#fix-oklab-and-oklch-color-space-inconsistency">Fix Oklab and Oklch color space inconsistency</a>
      
    </li>
  
    <li>
      <a href="#add-hue-traits">Add hue traits</a>
      
    </li>
  
    <li>
      <a href="#rename-bevy-render-color-to-legacycolor">Rename bevy_render::Color to LegacyColor</a>
      
    </li>
  
    <li>
      <a href="#clean-up-some-low-level-dependencies">Clean up some low level dependencies</a>
      
    </li>
  
    <li>
      <a href="#determine-msrv-for-every-standalone-bevy-crate">Determine msrv for every standalone bevy_* crate.</a>
      
    </li>
  
    <li>
      <a href="#remove-close-on-esc">remove close_on_esc</a>
      
    </li>
  
    <li>
      <a href="#move-close-on-esc-to-bevy-dev-tools">Move close_on_esc to bevy_dev_tools</a>
      
    </li>
  
    <li>
      <a href="#make-sysinfo-diagnostic-plugin-optional">Make sysinfo diagnostic plugin optional</a>
      
    </li>
  
    <li>
      <a href="#add-access-to-app-within-logplugin-update-subscriber">Add access to App within LogPlugin::update_subscriber</a>
      
    </li>
  
    <li>
      <a href="#improve-tracing-layer-customization">Improve tracing layer customization</a>
      
    </li>
  
    <li>
      <a href="#immediately-apply-deferred-system-params-in-system-run">Immediately apply deferred system params in System::run</a>
      
    </li>
  
    <li>
      <a href="#move-commands-module-into-bevy-ecs-world">Move commands module into bevy::ecs::world</a>
      
    </li>
  
    <li>
      <a href="#remove-componentstorage-and-associated-types">Remove ComponentStorage and associated types</a>
      
    </li>
  
    <li>
      <a href="#remove-archetype-component-access-from-querystate">Remove archetype_component_access from QueryState</a>
      
    </li>
  
    <li>
      <a href="#remove-worldcell">Remove WorldCell</a>
      
    </li>
  
    <li>
      <a href="#allow-commands-to-register-systems">Allow Commands to register systems</a>
      
    </li>
  
    <li>
      <a href="#store-only-the-ids-needed-for-query-iteration">Store only the IDs needed for Query iteration</a>
      
    </li>
  
    <li>
      <a href="#remove-stepping-from-default-features">Remove stepping from default features</a>
      
    </li>
  
    <li>
      <a href="#optimize-event-updates">Optimize Event Updates</a>
      
    </li>
  
    <li>
      <a href="#make-systemparam-new-archetype-and-querystate-new-archetype-unsafe-functions">Make SystemParam::new_archetype and QueryState::new_archetype unsafe functions</a>
      
    </li>
  
    <li>
      <a href="#better-systemid-to-entity-conversions">Better SystemId to Entity conversions</a>
      
    </li>
  
    <li>
      <a href="#computed-state-sub-states">Computed State &amp; Sub States</a>
      
    </li>
  
    <li>
      <a href="#separate-state-crate">Separate state crate</a>
      
    </li>
  
    <li>
      <a href="#constrain-worldquery-get-state-to-only-use-components">constrain WorldQuery::get_state to only use &amp;Components</a>
      
    </li>
  
    <li>
      <a href="#replace-fromworld-requirement-on-reflectresource-and-reflect-resource-for-state-s">Replace FromWorld requirement on ReflectResource and reflect Resource for State&lt;S&gt;</a>
      
    </li>
  
    <li>
      <a href="#make-some-reflectcomponent-reflectbundle-methods-work-with-entitymut-too">Make some ReflectComponent&#x2F;ReflectBundle methods work with EntityMut too</a>
      
    </li>
  
    <li>
      <a href="#make-from-reflect-or-world-also-try-reflectdefault-and-improve-some-comments-and-panic-messages">Make from_reflect_or_world also try ReflectDefault and improve some comments and panic messages</a>
      
    </li>
  
    <li>
      <a href="#multi-threaded-feature-rename">multi_threaded feature rename</a>
      
    </li>
  
    <li>
      <a href="#moves-intern-and-label-modules-into-bevy-ecs">Moves intern and label modules into bevy_ecs</a>
      
    </li>
  
    <li>
      <a href="#implement-the-animationgraph-allowing-for-multiple-animations-to-be-blended-together">Implement the AnimationGraph, allowing for multiple animations to be blended together.</a>
      
    </li>
  
    <li>
      <a href="#gizmo-line-joints">Gizmo line joints</a>
      
    </li>
  
    <li>
      <a href="#gizmo-line-styles">Gizmo line styles</a>
      
    </li>
  
    <li>
      <a href="#changed-the-order-of-arguments-for-the-arc-gizmo-docs">Changed the order of arguments for the Arc gizmo docs</a>
      
    </li>
  
    <li>
      <a href="#inconsistent-segments-resolution-naming">Inconsistent segments&#x2F;resolution naming</a>
      
    </li>
  
    <li>
      <a href="#deprecate-receivedcharacter">Deprecate ReceivedCharacter</a>
      
    </li>
  
    <li>
      <a href="#add-direction3da-and-move-direction-types-out-of-primitives">Add Direction3dA and move direction types out of primitives</a>
      
    </li>
  
    <li>
      <a href="#rename-direction2d-3d-to-dir2-3">Rename Direction2d&#x2F;3d to Dir2&#x2F;3</a>
      
    </li>
  
    <li>
      <a href="#make-cardinal-splines-include-endpoints">Make cardinal splines include endpoints</a>
      
    </li>
  
    <li>
      <a href="#move-point-out-of-cubic-splines-module-and-expand-it">Move Point out of cubic splines module and expand it</a>
      
    </li>
  
    <li>
      <a href="#remove-vectorspace-impl-on-quat">Remove VectorSpace impl on Quat</a>
      
    </li>
  
    <li>
      <a href="#meshing-for-triangle3d-primitive">Meshing for Triangle3d primitive</a>
      
    </li>
  
    <li>
      <a href="#use-vec3a-for-3d-bounding-volumes-and-raycasts">Use Vec3A for 3D bounding volumes and raycasts</a>
      
    </li>
  
    <li>
      <a href="#update-glam-version-requirement-from-0-25-to-0-27">Update glam version requirement from 0.25 to 0.27</a>
      
    </li>
  
    <li>
      <a href="#common-meshbuilder-trait">Common MeshBuilder trait</a>
      
    </li>
  
    <li>
      <a href="#make-transform-rotate-axis-and-transform-rotate-local-axis-use-dir3">Make Transform::rotate_axis and Transform::rotate_local_axis use Dir3</a>
      
    </li>
  
    <li>
      <a href="#use-dir3-for-local-axis-methods-in-globaltransform">Use Dir3 for local axis methods in GlobalTransform</a>
      
    </li>
  
    <li>
      <a href="#fix-ord-and-partialord-differing-for-floatord-and-optimize-implementation">Fix Ord and PartialOrd differing for FloatOrd and optimize implementation</a>
      
    </li>
  
    <li>
      <a href="#move-floatord-into-bevy-math">Move FloatOrd into bevy_math</a>
      
    </li>
  
    <li>
      <a href="#reflect-treat-proxy-types-correctly-when-serializing">reflect: treat proxy types correctly when serializing</a>
      
    </li>
  
    <li>
      <a href="#bevy-reflect-recursive-registration">bevy_reflect: Recursive registration</a>
      
    </li>
  
    <li>
      <a href="#bevy-reflect-rename-untypedreflectdeserializer-to-reflectdeserializer">bevy_reflect: Rename UntypedReflectDeserializer to ReflectDeserializer</a>
      
    </li>
  
    <li>
      <a href="#implement-reflect-for-result-t-e-as-enum">Implement Reflect for Result&lt;T, E&gt; as enum</a>
      
    </li>
  
    <li>
      <a href="#avoid-bevy-reflect-list-iter-wrapping-in-release-mode">Avoid bevy_reflect::List::iter wrapping in release mode</a>
      
    </li>
  
    <li>
      <a href="#fix-typeregistry-use-in-dynamic-scene">Fix TypeRegistry use in dynamic scene</a>
      
    </li>
  
    <li>
      <a href="#rename-camera3dbundle-s-dither-field-to-deband-dither-to-align-with-camera2dbundle">rename Camera3dBundle&#x27;s &#x27;dither&#x27; field to &#x27;deband_dither&#x27; to align with Camera2dBundle</a>
      
    </li>
  
    <li>
      <a href="#add-support-for-khr-texture-transform">Add support for KHR_texture_transform</a>
      
    </li>
  
    <li>
      <a href="#move-alphamode-into-bevy-render">Move AlphaMode into bevy_render</a>
      
    </li>
  
    <li>
      <a href="#prefer-uvec2-when-working-with-texture-dimensions">Prefer UVec2 when working with texture dimensions</a>
      
    </li>
  
    <li>
      <a href="#fix-cameraprojectionplugin-not-implementing-plugin-in-some-cases">Fix CameraProjectionPlugin not implementing Plugin in some cases</a>
      
    </li>
  
    <li>
      <a href="#add-random-shader-utils-fix-cluster-debug-visualization">Add random shader utils, fix cluster_debug_visualization</a>
      
    </li>
  
    <li>
      <a href="#intern-mesh-vertex-buffer-layouts-so-that-we-don-t-have-to-compare-them-over-and-over">Intern mesh vertex buffer layouts so that we don&#x27;t have to compare them over and over.</a>
      
    </li>
  
    <li>
      <a href="#batching-replace-gpuarraybufferindex-index-with-a-u32">Batching: replace GpuArrayBufferIndex::index with a u32</a>
      
    </li>
  
    <li>
      <a href="#solve-some-oklaba-inconsistencies">Solve some oklaba inconsistencies</a>
      
    </li>
  
    <li>
      <a href="#add-setting-to-enable-disable-shadows-to-materialplugin">Add setting to enable&#x2F;disable shadows to MaterialPlugin</a>
      
    </li>
  
    <li>
      <a href="#implement-maths-and-animatable-for-srgba">Implement maths and Animatable for Srgba</a>
      
    </li>
  
    <li>
      <a href="#remove-needless-color-specializaion-for-spritepipeline">Remove needless color specializaion for SpritePipeline</a>
      
    </li>
  
    <li>
      <a href="#improve-performance-by-binning-together-opaque-items-instead-of-sorting-them">Improve performance by binning together opaque items instead of sorting them.</a>
      
    </li>
  
    <li>
      <a href="#fix-crash-on-linux-nvidia-550-driver">Fix crash on Linux Nvidia 550 driver</a>
      
    </li>
  
    <li>
      <a href="#remove-deterministicrenderingconfig">remove DeterministicRenderingConfig</a>
      
    </li>
  
    <li>
      <a href="#micro-optimize-queue-material-meshes-primarily-to-remove-bit-manipulation">Micro-optimize queue_material_meshes, primarily to remove bit manipulation.</a>
      
    </li>
  
    <li>
      <a href="#disable-ray-query-and-ray-tracing-acceleration-structure-by-default">Disable RAY_QUERY and RAY_TRACING_ACCELERATION_STRUCTURE by default</a>
      
    </li>
  
    <li>
      <a href="#add-previous-view-uniforms-inverse-view">Add previous_view_uniforms.inverse_view</a>
      
    </li>
  
    <li>
      <a href="#generate-meshuniforms-on-the-gpu-via-compute-shader-where-available">Generate MeshUniforms on the GPU via compute shader where available.</a>
      
    </li>
  
    <li>
      <a href="#flipping-texture-coords-methods-has-been-added-to-the-standardmaterial">flipping texture coords methods has been added to the StandardMaterial</a>
      
    </li>
  
    <li>
      <a href="#implement-percentage-closer-filtering-pcf-for-point-lights">Implement percentage-closer filtering (PCF) for point lights.</a>
      
    </li>
  
    <li>
      <a href="#divide-the-single-visibleentities-list-into-separate-lists-for-2d-meshes-3d-meshes-lights-and-ui-elements-for-performance">Divide the single VisibleEntities list into separate lists for 2D meshes, 3D meshes, lights, and UI elements, for performance.</a>
      
    </li>
  
    <li>
      <a href="#fix-rendering-of-sprites-text-and-meshlets-after-12582">Fix rendering of sprites, text, and meshlets after #12582.</a>
      
    </li>
  
    <li>
      <a href="#add-missing-default-impl-to-extendedmaterial">Add missing Default impl to ExtendedMaterial.</a>
      
    </li>
  
    <li>
      <a href="#expose-desired-maximum-frame-latency-through-window-creation">Expose desired_maximum_frame_latency through window creation</a>
      
    </li>
  
    <li>
      <a href="#fix-cameraprojection-panic-and-improve-cameraprojectionplugin">Fix CameraProjection panic and improve CameraProjectionPlugin</a>
      
    </li>
  
    <li>
      <a href="#implement-filmic-color-grading">Implement filmic color grading.</a>
      
    </li>
  
    <li>
      <a href="#add-buffervec-an-higher-performance-alternative-to-storagebuffer-and-make-gpuarraybuffer-use-it">Add BufferVec, an higher-performance alternative to StorageBuffer, and make GpuArrayBuffer use it.</a>
      
    </li>
  
    <li>
      <a href="#implement-clearcoat-per-the-filament-and-the-khr-materials-clearcoat-specifications">Implement clearcoat per the Filament and the KHR_materials_clearcoat specifications.</a>
      
    </li>
  
    <li>
      <a href="#clean-up-2d-render-phases">Clean up 2d render phases</a>
      
    </li>
  
    <li>
      <a href="#12502-remove-limit-on-renderlayers">#12502 Remove limit on RenderLayers.</a>
      
    </li>
  
    <li>
      <a href="#add-emissive-exposure-weight-to-the-standardmaterial">Add emissive_exposure_weight to the StandardMaterial</a>
      
    </li>
  
    <li>
      <a href="#make-render-phases-render-world-resources-instead-of-components">Make render phases render world resources instead of components.</a>
      
    </li>
  
    <li>
      <a href="#deprecate-spritesheetbundle-and-atlasimagebundle">Deprecate SpriteSheetBundle and AtlasImageBundle</a>
      
    </li>
  
    <li>
      <a href="#decouple-backgroundcolor-from-uiimage">Decouple BackgroundColor from UiImage</a>
      
    </li>
  
    <li>
      <a href="#fix-ui-elements-randomly-not-appearing-after-13277">Fix UI elements randomly not appearing after #13277.</a>
      
    </li>
  
    <li>
      <a href="#fix12527-changes-to-make-serde-optional-for-bevy-color">FIX12527: Changes to make serde optional for bevy_color</a>
      
    </li>
  
    <li>
      <a href="#configure-surface-needs-to-be-on-the-main-thread-on-ios">configure_surface needs to be on the main thread on iOS</a>
      
    </li>
  
    <li>
      <a href="#introduce-a-windowwrapper-to-extend-the-lifetime-of-the-window-when-using-pipelined-rendering">Introduce a WindowWrapper to extend the lifetime of the window when using pipelined rendering</a>
      
    </li>
  
    <li>
      <a href="#add-an-index-argument-to-parallel-iteration-helpers-in-bevy-tasks">Add an index argument to parallel iteration helpers in bevy_tasks</a>
      
    </li>
  
    <li>
      <a href="#use-dir3-in-transform-apis">Use Dir3 in Transform APIs</a>
      
    </li>
  
    <li>
      <a href="#fix-12255-updating-targetcamera-on-multi-camera-scenes-not-allowing-layout-to-be-calculated">Fix #12255 Updating TargetCamera on multi camera scenes not allowing layout to be calculated</a>
      
    </li>
  
    <li>
      <a href="#restore-pre-0-13-1-root-node-layout-behavior">Restore pre 0.13.1 Root Node Layout behavior</a>
      
    </li>
  
    <li>
      <a href="#rename-rect-inset-method-to-inflate">Rename Rect inset() method to inflate()</a>
      
    </li>
  
    <li>
      <a href="#disentangle-bevy-utils-bevy-core-s-reexported-dependencies">Disentangle bevy_utils&#x2F;bevy_core&#x27;s reexported dependencies</a>
      
    </li>
  
    <li>
      <a href="#fix-fit-canvas-to-parent">Fix fit_canvas_to_parent</a>
      
    </li>
  
    <li>
      <a href="#clean-up-winitwindows-remove-window">Clean up WinitWindows::remove_window</a>
      
    </li>
  
    <li>
      <a href="#ensure-clean-exit">Ensure clean exit</a>
      
    </li>
  
  </ul>
</nav>

      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;introduction&#x2F;">Introduction</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-12-to-0-13&#x2F;">0.12 to 0.13</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-11-to-0-12&#x2F;">0.11 to 0.12</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-10-to-0-11&#x2F;">0.10 to 0.11</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-9-to-0-10&#x2F;">0.9 to 0.10</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-8-to-0-9&#x2F;">0.8 to 0.9</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-7-to-0-8&#x2F;">0.7 to 0.8</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-6-to-0-7&#x2F;">0.6 to 0.7</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-5-to-0-6&#x2F;">0.5 to 0.6</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-4-to-0-5&#x2F;">0.4 to 0.5</a>
      
    </div>
  </li>

        
      
    
  </ul>


              </div>
              <ul class="main-menu__menu">
                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry main-menu__entry--getting-started">
    <a href="&#x2F;learn&#x2F;quick-start&#x2F;getting-started" class="main-menu__link">
      <span>Getting Started</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
    
  
  <li class="main-menu__entry ">
    <a href="&#x2F;learn" class="main-menu__link main-menu__link--active">
      <span>Learn</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry ">
    <a href="&#x2F;news" class="main-menu__link">
      <span>News</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry ">
    <a href="&#x2F;community" class="main-menu__link">
      <span>Community</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry ">
    <a href="&#x2F;foundation" class="main-menu__link">
      <span>Foundation</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry ">
    <a href="&#x2F;assets" class="main-menu__link">
      <span>Assets</span>
    </a>
  </li>

                
  
  
  
    
  
  
  
  
  
  <li class="main-menu__entry ">
    <a href="&#x2F;examples" class="main-menu__link">
      <span>Examples</span>
    </a>
  </li>

                
              </ul>
            </div>
          </nav>
          <div class="header__cta-container">
            <a class="button button--pink header__cta" href="/donate">Donate
              <img class="button__icon"
                    src="/assets/heart.svg"
                    alt="heart icon"
                    width="512"
                    height="512" />
            </a>
            <a class="header__cta header__cta--github"
                href="https://github.com/bevyengine/bevy">
              <img src="/assets/github-mark-white.svg"
                    alt="GitHub repo"
                    width="98"
                    height="96" />
            </a>
          </div>
        </div>
      </header>
      <main class="layout__content">
        <div class="container">
          
            
  
    
    
    
      <h1 class="warning draft-header">Draft Page</h1>
      <div>
        The page is still under development (Tracking Issue: <a href="https://github.com/bevyengine/bevy-website/issues/1188">1188</a>). This page and all pages under it will be hidden from search engines and menus!
      </div>
    
  

          
          
  <div class="page-with-menu ">
    <div class="page-with-menu__menu-wrapper print:hidden">
      <div class="page-with-menu__menu">
        
  
  <ul class="tree-menu">
    
    
    
    
    
      
        
          
  
  
  
  
  
  
    
  
  
    
    
      
    
  
  <li class="tree-menu__item tree-menu__item--active public_draft active_draft">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-13-to-0-14&#x2F;">0.13 to 0.14</a>
      
        
<nav aria-label="On This Page" class="on-this-page tree-menu__toc">
  
  <ul>
  
    <li>
      <a href="#fix-node2d-typo">Fix Node2d typo</a>
      
    </li>
  
    <li>
      <a href="#update-to-fixedbitset-0-5">Update to fixedbitset 0.5</a>
      
    </li>
  
    <li>
      <a href="#move-wasm-panic-handler-from-logplugin-to-panichandlerplugin">Move WASM panic handler from LogPlugin to PanicHandlerPlugin</a>
      
    </li>
  
    <li>
      <a href="#animationclip-now-uses-uuids-and-nooptypeidhash-is-now-noophash">AnimationClip now uses UUIDs and NoOpTypeIdHash is now NoOpHash</a>
      
    </li>
  
    <li>
      <a href="#multiplying-linearrgba-by-f32-no-longer-ignores-alpha-channel">Multiplying LinearRgba by f32 no longer ignores alpha channel</a>
      
    </li>
  
    <li>
      <a href="#separate-subapp-from-app">Separate SubApp from App</a>
      
        <ul>
          
          <li>
            <a href="#constructing-a-subapp">Constructing a SubApp</a>
          </li>
          
          <li>
            <a href="#app-changes">App changes</a>
          </li>
          
          <li>
            <a href="#3rd-party-traits-on-app">3rd-party traits on App</a>
          </li>
          
        </ul>
      
    </li>
  
    <li>
      <a href="#make-appexit-more-specific-about-exit-reason">Make AppExit more specific about exit reason</a>
      
    </li>
  
    <li>
      <a href="#deprecate-dynamic-plugins">Deprecate dynamic plugins</a>
      
    </li>
  
    <li>
      <a href="#remove-the-updateassets-and-assetevents-schedules">Remove the UpdateAssets and AssetEvents schedules</a>
      
    </li>
  
    <li>
      <a href="#use-async-fn-in-traits-rather-than-boxedfuture">Use async-fn in traits rather than BoxedFuture</a>
      
    </li>
  
    <li>
      <a href="#make-assetaction-ignore-not-copy-assets-to-imported-assets">Make AssetAction::Ignore not copy assets to imported_assets</a>
      
    </li>
  
    <li>
      <a href="#removed-into-assedid-for-handle-as-mentioned-in-12600">Removed Into&lt;AssedId&gt; for Handle as mentioned in #12600</a>
      
    </li>
  
    <li>
      <a href="#add-asyncseek-trait-to-reader-to-be-able-to-seek-inside-asset-loaders">Add AsyncSeek trait to Reader to be able to seek inside asset loaders</a>
      
    </li>
  
    <li>
      <a href="#error-info-has-been-added-to-loadstate-failed">Error info has been added to LoadState::Failed</a>
      
    </li>
  
    <li>
      <a href="#make-assetmetacheck-a-field-on-the-asset-plugin">Make AssetMetaCheck a field on the asset plugin</a>
      
    </li>
  
    <li>
      <a href="#add-more-load-direct-implementations">Add more load_direct implementations</a>
      
    </li>
  
    <li>
      <a href="#make-loadcontext-use-the-builder-pattern-for-loading-dependent-assets">Make LoadContext use the builder pattern for loading dependent assets</a>
      
    </li>
  
    <li>
      <a href="#allow-setting-renderassetusages-for-gltf-meshes-materials-during-load">Allow setting RenderAssetUsages for gLTF meshes &amp; materials during load</a>
      
    </li>
  
    <li>
      <a href="#consolidate-render-ui-materials-2d-into-renderassets">Consolidate Render(Ui)Materials(2d) into RenderAssets</a>
      
    </li>
  
    <li>
      <a href="#fix-leftover-references-to-children-when-despawning-audio-entities">Fix leftover references to children when despawning audio entities</a>
      
    </li>
  
    <li>
      <a href="#check-cfg-during-ci-and-fix-feature-typos">Check cfg during CI and fix feature typos</a>
      
    </li>
  
    <li>
      <a href="#tools-refactor-ci-to-use-argh">tools: Refactor CI to use argh</a>
      
    </li>
  
    <li>
      <a href="#move-wgsl-color-operations-from-bevy-pbr-to-bevy-render">move wgsl color operations from bevy_pbr to bevy_render</a>
      
    </li>
  
    <li>
      <a href="#remove-clampcolor">Remove ClampColor</a>
      
    </li>
  
    <li>
      <a href="#migrate-from-legacycolor-to-bevy-color-color">Migrate from LegacyColor to bevy_color::Color</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-created-a-private-trait-standardcolor">bevy_color: Created a private trait StandardColor</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-added-xyza-colour-space">bevy_color: Added Xyza Colour Space</a>
      
    </li>
  
    <li>
      <a href="#made-bevy-color-a-dependency-of-bevy-render">Made bevy_color a dependency of bevy_render</a>
      
    </li>
  
    <li>
      <a href="#port-bevy-core-pipeline-to-linearrgba">Port bevy_core_pipeline to LinearRgba</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-added-hsva-and-hwba-models">bevy_color: Added Hsva and Hwba Models</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-add-laba-to-support-lab-color-model">bevy_color: Add Laba to support Lab Color Model</a>
      
    </li>
  
    <li>
      <a href="#bevy-color-add-oklch-color-space">bevy_color: Add Oklch Color Space</a>
      
    </li>
  
    <li>
      <a href="#fix-oklab-and-oklch-color-space-inconsistency">Fix Oklab and Oklch color space inconsistency</a>
      
    </li>
  
    <li>
      <a href="#add-hue-traits">Add hue traits</a>
      
    </li>
  
    <li>
      <a href="#rename-bevy-render-color-to-legacycolor">Rename bevy_render::Color to LegacyColor</a>
      
    </li>
  
    <li>
      <a href="#clean-up-some-low-level-dependencies">Clean up some low level dependencies</a>
      
    </li>
  
    <li>
      <a href="#determine-msrv-for-every-standalone-bevy-crate">Determine msrv for every standalone bevy_* crate.</a>
      
    </li>
  
    <li>
      <a href="#remove-close-on-esc">remove close_on_esc</a>
      
    </li>
  
    <li>
      <a href="#move-close-on-esc-to-bevy-dev-tools">Move close_on_esc to bevy_dev_tools</a>
      
    </li>
  
    <li>
      <a href="#make-sysinfo-diagnostic-plugin-optional">Make sysinfo diagnostic plugin optional</a>
      
    </li>
  
    <li>
      <a href="#add-access-to-app-within-logplugin-update-subscriber">Add access to App within LogPlugin::update_subscriber</a>
      
    </li>
  
    <li>
      <a href="#improve-tracing-layer-customization">Improve tracing layer customization</a>
      
    </li>
  
    <li>
      <a href="#immediately-apply-deferred-system-params-in-system-run">Immediately apply deferred system params in System::run</a>
      
    </li>
  
    <li>
      <a href="#move-commands-module-into-bevy-ecs-world">Move commands module into bevy::ecs::world</a>
      
    </li>
  
    <li>
      <a href="#remove-componentstorage-and-associated-types">Remove ComponentStorage and associated types</a>
      
    </li>
  
    <li>
      <a href="#remove-archetype-component-access-from-querystate">Remove archetype_component_access from QueryState</a>
      
    </li>
  
    <li>
      <a href="#remove-worldcell">Remove WorldCell</a>
      
    </li>
  
    <li>
      <a href="#allow-commands-to-register-systems">Allow Commands to register systems</a>
      
    </li>
  
    <li>
      <a href="#store-only-the-ids-needed-for-query-iteration">Store only the IDs needed for Query iteration</a>
      
    </li>
  
    <li>
      <a href="#remove-stepping-from-default-features">Remove stepping from default features</a>
      
    </li>
  
    <li>
      <a href="#optimize-event-updates">Optimize Event Updates</a>
      
    </li>
  
    <li>
      <a href="#make-systemparam-new-archetype-and-querystate-new-archetype-unsafe-functions">Make SystemParam::new_archetype and QueryState::new_archetype unsafe functions</a>
      
    </li>
  
    <li>
      <a href="#better-systemid-to-entity-conversions">Better SystemId to Entity conversions</a>
      
    </li>
  
    <li>
      <a href="#computed-state-sub-states">Computed State &amp; Sub States</a>
      
    </li>
  
    <li>
      <a href="#separate-state-crate">Separate state crate</a>
      
    </li>
  
    <li>
      <a href="#constrain-worldquery-get-state-to-only-use-components">constrain WorldQuery::get_state to only use &amp;Components</a>
      
    </li>
  
    <li>
      <a href="#replace-fromworld-requirement-on-reflectresource-and-reflect-resource-for-state-s">Replace FromWorld requirement on ReflectResource and reflect Resource for State&lt;S&gt;</a>
      
    </li>
  
    <li>
      <a href="#make-some-reflectcomponent-reflectbundle-methods-work-with-entitymut-too">Make some ReflectComponent&#x2F;ReflectBundle methods work with EntityMut too</a>
      
    </li>
  
    <li>
      <a href="#make-from-reflect-or-world-also-try-reflectdefault-and-improve-some-comments-and-panic-messages">Make from_reflect_or_world also try ReflectDefault and improve some comments and panic messages</a>
      
    </li>
  
    <li>
      <a href="#multi-threaded-feature-rename">multi_threaded feature rename</a>
      
    </li>
  
    <li>
      <a href="#moves-intern-and-label-modules-into-bevy-ecs">Moves intern and label modules into bevy_ecs</a>
      
    </li>
  
    <li>
      <a href="#implement-the-animationgraph-allowing-for-multiple-animations-to-be-blended-together">Implement the AnimationGraph, allowing for multiple animations to be blended together.</a>
      
    </li>
  
    <li>
      <a href="#gizmo-line-joints">Gizmo line joints</a>
      
    </li>
  
    <li>
      <a href="#gizmo-line-styles">Gizmo line styles</a>
      
    </li>
  
    <li>
      <a href="#changed-the-order-of-arguments-for-the-arc-gizmo-docs">Changed the order of arguments for the Arc gizmo docs</a>
      
    </li>
  
    <li>
      <a href="#inconsistent-segments-resolution-naming">Inconsistent segments&#x2F;resolution naming</a>
      
    </li>
  
    <li>
      <a href="#deprecate-receivedcharacter">Deprecate ReceivedCharacter</a>
      
    </li>
  
    <li>
      <a href="#add-direction3da-and-move-direction-types-out-of-primitives">Add Direction3dA and move direction types out of primitives</a>
      
    </li>
  
    <li>
      <a href="#rename-direction2d-3d-to-dir2-3">Rename Direction2d&#x2F;3d to Dir2&#x2F;3</a>
      
    </li>
  
    <li>
      <a href="#make-cardinal-splines-include-endpoints">Make cardinal splines include endpoints</a>
      
    </li>
  
    <li>
      <a href="#move-point-out-of-cubic-splines-module-and-expand-it">Move Point out of cubic splines module and expand it</a>
      
    </li>
  
    <li>
      <a href="#remove-vectorspace-impl-on-quat">Remove VectorSpace impl on Quat</a>
      
    </li>
  
    <li>
      <a href="#meshing-for-triangle3d-primitive">Meshing for Triangle3d primitive</a>
      
    </li>
  
    <li>
      <a href="#use-vec3a-for-3d-bounding-volumes-and-raycasts">Use Vec3A for 3D bounding volumes and raycasts</a>
      
    </li>
  
    <li>
      <a href="#update-glam-version-requirement-from-0-25-to-0-27">Update glam version requirement from 0.25 to 0.27</a>
      
    </li>
  
    <li>
      <a href="#common-meshbuilder-trait">Common MeshBuilder trait</a>
      
    </li>
  
    <li>
      <a href="#make-transform-rotate-axis-and-transform-rotate-local-axis-use-dir3">Make Transform::rotate_axis and Transform::rotate_local_axis use Dir3</a>
      
    </li>
  
    <li>
      <a href="#use-dir3-for-local-axis-methods-in-globaltransform">Use Dir3 for local axis methods in GlobalTransform</a>
      
    </li>
  
    <li>
      <a href="#fix-ord-and-partialord-differing-for-floatord-and-optimize-implementation">Fix Ord and PartialOrd differing for FloatOrd and optimize implementation</a>
      
    </li>
  
    <li>
      <a href="#move-floatord-into-bevy-math">Move FloatOrd into bevy_math</a>
      
    </li>
  
    <li>
      <a href="#reflect-treat-proxy-types-correctly-when-serializing">reflect: treat proxy types correctly when serializing</a>
      
    </li>
  
    <li>
      <a href="#bevy-reflect-recursive-registration">bevy_reflect: Recursive registration</a>
      
    </li>
  
    <li>
      <a href="#bevy-reflect-rename-untypedreflectdeserializer-to-reflectdeserializer">bevy_reflect: Rename UntypedReflectDeserializer to ReflectDeserializer</a>
      
    </li>
  
    <li>
      <a href="#implement-reflect-for-result-t-e-as-enum">Implement Reflect for Result&lt;T, E&gt; as enum</a>
      
    </li>
  
    <li>
      <a href="#avoid-bevy-reflect-list-iter-wrapping-in-release-mode">Avoid bevy_reflect::List::iter wrapping in release mode</a>
      
    </li>
  
    <li>
      <a href="#fix-typeregistry-use-in-dynamic-scene">Fix TypeRegistry use in dynamic scene</a>
      
    </li>
  
    <li>
      <a href="#rename-camera3dbundle-s-dither-field-to-deband-dither-to-align-with-camera2dbundle">rename Camera3dBundle&#x27;s &#x27;dither&#x27; field to &#x27;deband_dither&#x27; to align with Camera2dBundle</a>
      
    </li>
  
    <li>
      <a href="#add-support-for-khr-texture-transform">Add support for KHR_texture_transform</a>
      
    </li>
  
    <li>
      <a href="#move-alphamode-into-bevy-render">Move AlphaMode into bevy_render</a>
      
    </li>
  
    <li>
      <a href="#prefer-uvec2-when-working-with-texture-dimensions">Prefer UVec2 when working with texture dimensions</a>
      
    </li>
  
    <li>
      <a href="#fix-cameraprojectionplugin-not-implementing-plugin-in-some-cases">Fix CameraProjectionPlugin not implementing Plugin in some cases</a>
      
    </li>
  
    <li>
      <a href="#add-random-shader-utils-fix-cluster-debug-visualization">Add random shader utils, fix cluster_debug_visualization</a>
      
    </li>
  
    <li>
      <a href="#intern-mesh-vertex-buffer-layouts-so-that-we-don-t-have-to-compare-them-over-and-over">Intern mesh vertex buffer layouts so that we don&#x27;t have to compare them over and over.</a>
      
    </li>
  
    <li>
      <a href="#batching-replace-gpuarraybufferindex-index-with-a-u32">Batching: replace GpuArrayBufferIndex::index with a u32</a>
      
    </li>
  
    <li>
      <a href="#solve-some-oklaba-inconsistencies">Solve some oklaba inconsistencies</a>
      
    </li>
  
    <li>
      <a href="#add-setting-to-enable-disable-shadows-to-materialplugin">Add setting to enable&#x2F;disable shadows to MaterialPlugin</a>
      
    </li>
  
    <li>
      <a href="#implement-maths-and-animatable-for-srgba">Implement maths and Animatable for Srgba</a>
      
    </li>
  
    <li>
      <a href="#remove-needless-color-specializaion-for-spritepipeline">Remove needless color specializaion for SpritePipeline</a>
      
    </li>
  
    <li>
      <a href="#improve-performance-by-binning-together-opaque-items-instead-of-sorting-them">Improve performance by binning together opaque items instead of sorting them.</a>
      
    </li>
  
    <li>
      <a href="#fix-crash-on-linux-nvidia-550-driver">Fix crash on Linux Nvidia 550 driver</a>
      
    </li>
  
    <li>
      <a href="#remove-deterministicrenderingconfig">remove DeterministicRenderingConfig</a>
      
    </li>
  
    <li>
      <a href="#micro-optimize-queue-material-meshes-primarily-to-remove-bit-manipulation">Micro-optimize queue_material_meshes, primarily to remove bit manipulation.</a>
      
    </li>
  
    <li>
      <a href="#disable-ray-query-and-ray-tracing-acceleration-structure-by-default">Disable RAY_QUERY and RAY_TRACING_ACCELERATION_STRUCTURE by default</a>
      
    </li>
  
    <li>
      <a href="#add-previous-view-uniforms-inverse-view">Add previous_view_uniforms.inverse_view</a>
      
    </li>
  
    <li>
      <a href="#generate-meshuniforms-on-the-gpu-via-compute-shader-where-available">Generate MeshUniforms on the GPU via compute shader where available.</a>
      
    </li>
  
    <li>
      <a href="#flipping-texture-coords-methods-has-been-added-to-the-standardmaterial">flipping texture coords methods has been added to the StandardMaterial</a>
      
    </li>
  
    <li>
      <a href="#implement-percentage-closer-filtering-pcf-for-point-lights">Implement percentage-closer filtering (PCF) for point lights.</a>
      
    </li>
  
    <li>
      <a href="#divide-the-single-visibleentities-list-into-separate-lists-for-2d-meshes-3d-meshes-lights-and-ui-elements-for-performance">Divide the single VisibleEntities list into separate lists for 2D meshes, 3D meshes, lights, and UI elements, for performance.</a>
      
    </li>
  
    <li>
      <a href="#fix-rendering-of-sprites-text-and-meshlets-after-12582">Fix rendering of sprites, text, and meshlets after #12582.</a>
      
    </li>
  
    <li>
      <a href="#add-missing-default-impl-to-extendedmaterial">Add missing Default impl to ExtendedMaterial.</a>
      
    </li>
  
    <li>
      <a href="#expose-desired-maximum-frame-latency-through-window-creation">Expose desired_maximum_frame_latency through window creation</a>
      
    </li>
  
    <li>
      <a href="#fix-cameraprojection-panic-and-improve-cameraprojectionplugin">Fix CameraProjection panic and improve CameraProjectionPlugin</a>
      
    </li>
  
    <li>
      <a href="#implement-filmic-color-grading">Implement filmic color grading.</a>
      
    </li>
  
    <li>
      <a href="#add-buffervec-an-higher-performance-alternative-to-storagebuffer-and-make-gpuarraybuffer-use-it">Add BufferVec, an higher-performance alternative to StorageBuffer, and make GpuArrayBuffer use it.</a>
      
    </li>
  
    <li>
      <a href="#implement-clearcoat-per-the-filament-and-the-khr-materials-clearcoat-specifications">Implement clearcoat per the Filament and the KHR_materials_clearcoat specifications.</a>
      
    </li>
  
    <li>
      <a href="#clean-up-2d-render-phases">Clean up 2d render phases</a>
      
    </li>
  
    <li>
      <a href="#12502-remove-limit-on-renderlayers">#12502 Remove limit on RenderLayers.</a>
      
    </li>
  
    <li>
      <a href="#add-emissive-exposure-weight-to-the-standardmaterial">Add emissive_exposure_weight to the StandardMaterial</a>
      
    </li>
  
    <li>
      <a href="#make-render-phases-render-world-resources-instead-of-components">Make render phases render world resources instead of components.</a>
      
    </li>
  
    <li>
      <a href="#deprecate-spritesheetbundle-and-atlasimagebundle">Deprecate SpriteSheetBundle and AtlasImageBundle</a>
      
    </li>
  
    <li>
      <a href="#decouple-backgroundcolor-from-uiimage">Decouple BackgroundColor from UiImage</a>
      
    </li>
  
    <li>
      <a href="#fix-ui-elements-randomly-not-appearing-after-13277">Fix UI elements randomly not appearing after #13277.</a>
      
    </li>
  
    <li>
      <a href="#fix12527-changes-to-make-serde-optional-for-bevy-color">FIX12527: Changes to make serde optional for bevy_color</a>
      
    </li>
  
    <li>
      <a href="#configure-surface-needs-to-be-on-the-main-thread-on-ios">configure_surface needs to be on the main thread on iOS</a>
      
    </li>
  
    <li>
      <a href="#introduce-a-windowwrapper-to-extend-the-lifetime-of-the-window-when-using-pipelined-rendering">Introduce a WindowWrapper to extend the lifetime of the window when using pipelined rendering</a>
      
    </li>
  
    <li>
      <a href="#add-an-index-argument-to-parallel-iteration-helpers-in-bevy-tasks">Add an index argument to parallel iteration helpers in bevy_tasks</a>
      
    </li>
  
    <li>
      <a href="#use-dir3-in-transform-apis">Use Dir3 in Transform APIs</a>
      
    </li>
  
    <li>
      <a href="#fix-12255-updating-targetcamera-on-multi-camera-scenes-not-allowing-layout-to-be-calculated">Fix #12255 Updating TargetCamera on multi camera scenes not allowing layout to be calculated</a>
      
    </li>
  
    <li>
      <a href="#restore-pre-0-13-1-root-node-layout-behavior">Restore pre 0.13.1 Root Node Layout behavior</a>
      
    </li>
  
    <li>
      <a href="#rename-rect-inset-method-to-inflate">Rename Rect inset() method to inflate()</a>
      
    </li>
  
    <li>
      <a href="#disentangle-bevy-utils-bevy-core-s-reexported-dependencies">Disentangle bevy_utils&#x2F;bevy_core&#x27;s reexported dependencies</a>
      
    </li>
  
    <li>
      <a href="#fix-fit-canvas-to-parent">Fix fit_canvas_to_parent</a>
      
    </li>
  
    <li>
      <a href="#clean-up-winitwindows-remove-window">Clean up WinitWindows::remove_window</a>
      
    </li>
  
    <li>
      <a href="#ensure-clean-exit">Ensure clean exit</a>
      
    </li>
  
  </ul>
</nav>

      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;introduction&#x2F;">Introduction</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-12-to-0-13&#x2F;">0.12 to 0.13</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-11-to-0-12&#x2F;">0.11 to 0.12</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-10-to-0-11&#x2F;">0.10 to 0.11</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-9-to-0-10&#x2F;">0.9 to 0.10</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-8-to-0-9&#x2F;">0.8 to 0.9</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-7-to-0-8&#x2F;">0.7 to 0.8</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-6-to-0-7&#x2F;">0.6 to 0.7</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-5-to-0-6&#x2F;">0.5 to 0.6</a>
      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;learn&#x2F;migration-guides&#x2F;0-4-to-0-5&#x2F;">0.4 to 0.5</a>
      
    </div>
  </li>

        
      
    
  </ul>


      </div>
    </div>
    <div class="page-with-menu__content">
      
  <div class="docs-page">
    <div class="docs-content">
      

      
      
      
      
      
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      
        
        
      

      
        
      

      
      
      
      
      
        
        
        
        
          
          
        
        
        
          
          
          
      <h1>
        Migration Guide: 0.13 to 0.14
        
      </h1>
      <div class="media-content">
        <aside class="callout callout--warning">
  <p>Bevy relies heavily on improvements in the Rust language and compiler. As a result, the Minimum Supported Rust Version (MSRV) is "the latest stable release" of Rust.</p>
</aside>
<div class="migration-guide">
<h3 id="fix-node2d-typo"><a href="https://github.com/bevyengine/bevy/pull/12038">Fix <code>Node2d</code> typo</a>
<a class="anchor-link" href="#fix-node2d-typo">#</a>
</h3>
<div class="migration-guide-area-tags">
</div>
<p><code>Node2d::ConstrastAdaptiveSharpening</code> from <code>bevy::core_pipeline::core_2d::graph</code> has been renamed to fix a typo. It was originally <code>Constrast</code>, but is now <code>Contrast</code>.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">Node2D<span class="z-punctuation z-accessor z-rust">::</span></span>ConstrastAdaptiveSharpening
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">Node2D<span class="z-punctuation z-accessor z-rust">::</span></span>ContrastAdaptiveSharpening
</span></code></pre>
<h3 id="update-to-fixedbitset-0-5"><a href="https://github.com/bevyengine/bevy/pull/12512">Update to <code>fixedbitset</code> 0.5</a>
<a class="anchor-link" href="#update-to-fixedbitset-0-5">#</a>
</h3>
<div class="migration-guide-area-tags">
</div>
<p><code>Access::grow</code> from <code>bevy::ecs::query</code> has been removed. Many operations now automatically grow the capacity.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> access <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Access<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">access<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">grow</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Other operations...
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> access <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Access<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Other operations...
</span></span></code></pre>
<h3 id="move-wasm-panic-handler-from-logplugin-to-panichandlerplugin"><a href="https://github.com/bevyengine/bevy/pull/12557">Move WASM panic handler from <code>LogPlugin</code> to <code>PanicHandlerPlugin</code></a>
<a class="anchor-link" href="#move-wasm-panic-handler-from-logplugin-to-panichandlerplugin">#</a>
</h3>
<div class="migration-guide-area-tags">
</div>
<p><code>LogPlugin</code> used to silently override the panic handler on WASM targets. This functionality has now been split out into the new <code>PanicHandlerPlugin</code>, which was added to <code>DefaultPlugins</code>.</p>
<p>If you want nicer error messages on WASM but don't use <code>DefaultPlugins</code>, make sure to manually add <code>PanicHandlerPlugin</code> to the app.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MinimalPlugins<span class="z-punctuation z-separator z-rust">,</span> PanicHandlerPlugin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="animationclip-now-uses-uuids-and-nooptypeidhash-is-now-noophash"><a href="https://github.com/bevyengine/bevy/pull/11707"><code>AnimationClip</code> now uses UUIDs and <code>NoOpTypeIdHash</code> is now <code>NoOpHash</code></a>
<a class="anchor-link" href="#animationclip-now-uses-uuids-and-nooptypeidhash-is-now-noophash">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Animation</div>
</div>
<p><code>AnimationClip</code> now uses UUIDs instead of hierarchical paths based on the <code>Name</code> component to refer to bones. This has several consequences:</p>
<ul>
<li>A new component, <code>AnimationTarget</code>, should be placed on each bone that you wish to animate, in order to specify its UUID and the associated <code>AnimationPlayer</code>. The glTF loader automatically creates these components as necessary, so most uses of glTF rigs shouldnt need to change.</li>
<li>Moving a bone around the tree, or renaming it, no longer prevents an <code>AnimationPlayer</code> from affecting it.</li>
<li>Dynamically changing the <code>AnimationPlayer</code> component will likely require manual updating of the <code>AnimationTarget</code> components.</li>
</ul>
<p>Entities with <code>AnimationPlayer</code> components may now possess descendants that also have <code>AnimationPlayer</code> components. They may not, however, animate the same bones.</p>
<p>Furthermore, <code>NoOpTypeIdHash</code> and <code>NoOpTypeIdHasher</code> have been renamed to <code>NoOpHash</code> and <code>NoOpHasher</code>.</p>
<h3 id="multiplying-linearrgba-by-f32-no-longer-ignores-alpha-channel"><a href="https://github.com/bevyengine/bevy/pull/12575">Multiplying <code>LinearRgba</code> by <code>f32</code> no longer ignores alpha channel</a>
<a class="anchor-link" href="#multiplying-linearrgba-by-f32-no-longer-ignores-alpha-channel">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Animation</div>
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>Multiplying and dividing a <code>LinearRgba</code> by an <code>f32</code> used to skip the alpha channel, but now it is modified.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> color <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Color<span class="z-punctuation z-accessor z-rust">::</span></span>RgbaLinear <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    red<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    green<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    blue<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    alpha<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Alpha is preserved, ignoring the multiplier.
</span></span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>color<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">a</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> color <span class="z-keyword z-operator z-assignment z-rust">=</span> LinearRgba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    red<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    green<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    blue<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    alpha<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Alpha is included in multiplication.
</span></span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>color<span class="z-punctuation z-accessor z-dot z-rust">.</span>alpha<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">5</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>If you need the alpha channel to remain untouched, consider creating your own helper method:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">legacy_div_f32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">color</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> LinearRgba, <span class="z-variable z-parameter z-rust">scale</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">f32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    color<span class="z-punctuation z-accessor z-dot z-rust">.</span>red <span class="z-keyword z-operator z-assignment z-rust">/=</span> scale<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    color<span class="z-punctuation z-accessor z-dot z-rust">.</span>green <span class="z-keyword z-operator z-assignment z-rust">/=</span> scale<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    color<span class="z-punctuation z-accessor z-dot z-rust">.</span>blue <span class="z-keyword z-operator z-assignment z-rust">/=</span> scale<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> color <span class="z-keyword z-operator z-assignment z-rust">=</span> LinearRgba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    red<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    green<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    blue<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    alpha<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-support z-function z-rust">legacy_div_f32</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-bitwise z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> color<span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>If you are fine with the alpha changing, but need it to remain within the range of 0.0 to 1.0, consider clamping it:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> color <span class="z-keyword z-operator z-assignment z-rust">=</span> LinearRgba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    red<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    green<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    blue<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    alpha<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span> <span class="z-constant z-numeric z-float z-rust">10.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">color<span class="z-punctuation z-accessor z-dot z-rust">.</span>alpha <span class="z-keyword z-operator z-assignment z-rust">=</span> color<span class="z-punctuation z-accessor z-dot z-rust">.</span>alpha<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clamp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<!-- TODO: I want this to be a callout, but shortcodes don't work here. -->
<p>Note that in some cases, such as rendering sprites, the alpha is automatically clamped so you do not need to do it manually.</p>
<h3 id="separate-subapp-from-app"><a href="https://github.com/bevyengine/bevy/pull/9202">Separate <code>SubApp</code> from <code>App</code></a>
<a class="anchor-link" href="#separate-subapp-from-app">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">App</div>
</div>
<p><code>SubApp</code> has been separated from <code>App</code>, so there are a few larger changes involved when interacting with these types.</p>
<h4 id="constructing-a-subapp">Constructing a <code>SubApp</code>
<a class="anchor-link" href="#constructing-a-subapp">#</a>
</h4>
<p><code>SubApp</code> no longer contains an <code>App</code>, so you no longer are able to convert an <code>App</code> into a <code>SubApp</code>. Furthermore, the extraction function must now be set outside of the constructor.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">AppLabel<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MySubApp</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> sub_app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>empty<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">sub_app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Main<span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">sub_app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_sub_app</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MySubApp<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">SubApp<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>sub_app<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">main_world</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">sub_app</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Extraction function.
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">AppLabel<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MySubApp</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Use `SubApp::new()` instead of `App::new()`.
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> sub_app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">SubApp<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Instead of setting the extraction function when you create the `SubApp`, you must set it
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> afterwards. If you do not set an extraction function, it will do nothing.
</span></span><span class="z-source z-rust">sub_app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">set_extract</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">main_world</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-variable z-parameter z-rust">sub_world</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Extraction function.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> You can still add systems and resources like normal.
</span></span><span class="z-source z-rust">sub_app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Main<span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">sub_app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_resource</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-range z-rust">...</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_sub_app</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MySubApp<span class="z-punctuation z-separator z-rust">,</span> sub_app</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h4 id="app-changes"><code>App</code> changes
<a class="anchor-link" href="#app-changes">#</a>
</h4>
<p>Due to the separation of <code>App</code> and <code>SubApp</code>, a few other methods have been changed.</p>
<p>First, <code>App::world</code> as a property is no longer directly accessible. Instead use the getters <code>App::world</code> and <code>App::world_mut</code>.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Component</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyComponent</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span><span class="z-constant z-other z-placeholder z-rust">{:?}</span><span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> app<span class="z-punctuation z-accessor z-dot z-rust">.</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span>world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyComponent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">println!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span><span class="z-constant z-other z-placeholder z-rust">{:?}</span><span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-separator z-rust">,</span> app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span> <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Notice the added paranthesese.
</span></span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyComponent</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>Secondly, all getters for the sub app now return a <code>SubApp</code> instead of an <code>App</code>. This includes <code>App::sub_app</code>, <code>App::sub_app_mut</code>, <code>App::get_sub_app</code>, and <code>App::get_sub_app_mut</code>.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">AppLabel<span class="z-punctuation z-separator z-rust">,</span> Clone<span class="z-punctuation z-separator z-rust">,</span> Copy<span class="z-punctuation z-separator z-rust">,</span> Hash<span class="z-punctuation z-separator z-rust">,</span> PartialEq<span class="z-punctuation z-separator z-rust">,</span> Eq<span class="z-punctuation z-separator z-rust">,</span> Debug</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MySubApp</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-storage z-modifier z-rust">mut</span> app <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">insert_sub_app</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MySubApp<span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">SubApp<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-support z-macro z-rust">assert_eq!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>app<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">sub_app</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MySubApp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-path z-rust">TypeId<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">of<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>SubApp<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h4 id="3rd-party-traits-on-app">3rd-party traits on <code>App</code>
<a class="anchor-link" href="#3rd-party-traits-on-app">#</a>
</h4>
<p>If you implemented an extension trait on <code>App</code>, consider also implementing it on <code>SubApp</code>:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-storage z-type z-trait z-rust">trait</span> <span class="z-entity z-name z-trait z-rust">SpawnBundle</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> Spawns a new `Bundle` into the `World`.
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_bundle</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> Bundle<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">bundle</span><span class="z-punctuation z-separator z-rust">:</span> T</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-storage z-type z-rust">Self</span></span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-trait z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">SpawnBundle <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">App</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_bundle</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> Bundle<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">bundle</span><span class="z-punctuation z-separator z-rust">:</span> T</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-storage z-type z-rust">Self</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-language z-rust">self</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-documentation z-rust"><span class="z-punctuation z-definition z-comment z-rust">///</span> `SubApp` has a very similar API to `App`, so the code will usually look the same.
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">SpawnBundle <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">SubApp</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">spawn_bundle</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> Bundle<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">self</span>, <span class="z-variable z-parameter z-rust">bundle</span><span class="z-punctuation z-separator z-rust">:</span> T</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-storage z-type z-rust">Self</span></span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-language z-rust">self</span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">world_mut</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">spawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>bundle</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">        <span class="z-variable z-language z-rust">self</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="make-appexit-more-specific-about-exit-reason"><a href="https://github.com/bevyengine/bevy/pull/13022">Make <code>AppExit</code> more specific about exit reason</a>
<a class="anchor-link" href="#make-appexit-more-specific-about-exit-reason">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">App</div>
</div>
<p>The <code>AppExit</code> event is now an enum that represents whether the code exited successfully or not. If you construct it, you must now specify <code>Success</code> or <code>Error</code>:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">send_exit</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">writer</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventWriter<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    writer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>AppExit</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">send_exit</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">writer</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventWriter<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    writer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">AppExit<span class="z-punctuation z-accessor z-rust">::</span></span>Success</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    writer<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">send</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">AppExit<span class="z-punctuation z-accessor z-rust">::</span></span>Error<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">NonZeroU8<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">unwrap</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>If you subscribed to this event in a system, consider <code>match</code>ing whether it was a success or an error:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">handle_exit</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">reader</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventReader<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> app_exit <span class="z-keyword z-operator z-rust">in</span> reader<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Something interesting here...
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">handle_exit</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">reader</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventReader<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>AppExit<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> app_exit <span class="z-keyword z-operator z-rust">in</span> reader<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">match</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>app_exit <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">AppExit<span class="z-punctuation z-accessor z-rust">::</span></span>Success <span class="z-keyword z-operator z-rust">=&gt;</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Something interesting here...
</span></span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">AppExit<span class="z-punctuation z-accessor z-rust">::</span></span>Error<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>exit_code</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">=&gt;</span> <span class="z-support z-macro z-rust">panic!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>App exiting with an error! (Code: {exit_code})<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>Furthermore, <code>App::run</code> now returns <code>AppExit</code> instead of the unit type <code>()</code>. Since <code>AppExit</code> implements <a href="https://doc.rust-lang.org/stable/std/process/trait.Termination.html"><code>Termination</code></a>, you can now return it from the main function.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> AppExit</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After (alternative)
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">main</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> If you want to ignore `AppExit`, you can add a semicolon instead. :)
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="deprecate-dynamic-plugins"><a href="https://github.com/bevyengine/bevy/pull/13080">Deprecate dynamic plugins</a>
<a class="anchor-link" href="#deprecate-dynamic-plugins">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">App</div>
</div>
<p>Dynamic plugins are now deprecated. If possible, remove all usage them from your code:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This would be compiled into a separate dynamic library.
</span></span><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">DynamicPlugin</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyPlugin</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Plugin <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyPlugin</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This would be compiled into the main binary.
</span></span><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load_plugin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>path/to/plugin<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> After
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> This would now be compiled into the main binary as well.
</span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-entity z-name z-struct z-rust">MyPlugin</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Plugin <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyPlugin</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_plugins</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>MyPlugin</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>If you are unable to do that, you may temporarily silence the deprecation warnings by annotating all usage with <code>#[allow(deprecated)]</code>. Please note that the current dynamic plugin system will be removed by the next major Bevy release, so you will have to migrate eventually. You may be interested in these safer, related links:</p>
<ul>
<li><a href="https://bevyengine.org/assets/#scripting">Bevy Assets - Scripting</a>: Scripting and modding libraries for Bevy</li>
<li><a href="https://bevyengine.org/assets/#development-tools">Bevy Assets - Development tools</a>: Hot reloading and other development functionality</li>
<li><a href="https://github.com/ZettaScaleLabs/stabby"><code>stabby</code></a>: Stable Rust ABI</li>
</ul>
<p>If you truly cannot go without dynamic plugins, you may copy the code from Bevy and add it to your project locally.</p>
<h3 id="remove-the-updateassets-and-assetevents-schedules"><a href="https://github.com/bevyengine/bevy/pull/11986">Remove the UpdateAssets and AssetEvents schedules</a>
<a class="anchor-link" href="#remove-the-updateassets-and-assetevents-schedules">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<p>TODO</p>
<h3 id="use-async-fn-in-traits-rather-than-boxedfuture"><a href="https://github.com/bevyengine/bevy/pull/12550">Use async-fn in traits rather than BoxedFuture</a>
<a class="anchor-link" href="#use-async-fn-in-traits-rather-than-boxedfuture">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<ul>
<li>Custom implementations of AssetReader, AssetWriter, AssetLoader, AssetSaver and Process should switch to async fn rather than returning a bevy_utils::BoxedFuture. </li>
<li>Simultaneously, to use dynamic dispatch on these traits you should instead use dyn ErasedXXX.</li>
</ul>
<h3 id="make-assetaction-ignore-not-copy-assets-to-imported-assets"><a href="https://github.com/bevyengine/bevy/pull/12605">Make <code>AssetAction::Ignore</code> not copy assets to <code>imported_assets</code></a>
<a class="anchor-link" href="#make-assetaction-ignore-not-copy-assets-to-imported-assets">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<ul>
<li>The public <code>ProcessResult</code> enum now has a <code>ProcessResult::Ignore</code> variant that must be handled.</li>
</ul>
<h3 id="removed-into-assedid-for-handle-as-mentioned-in-12600"><a href="https://github.com/bevyengine/bevy/pull/12655">Removed Into&lt;AssedId<T>&gt; for Handle<T> as mentioned in #12600</a>
<a class="anchor-link" href="#removed-into-assedid-for-handle-as-mentioned-in-12600">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<p>If you use passing Handle by value as AssetId, you should pass reference or call .id() method on it
Before (0.13):
<code>assets.insert(handle, value);</code>
After (0.14):
<code>assets.insert(&amp;handle, value);</code>
or
<code>assets.insert(handle.id(), value);</code></p>
<h3 id="add-asyncseek-trait-to-reader-to-be-able-to-seek-inside-asset-loaders"><a href="https://github.com/bevyengine/bevy/pull/12547">Add <code>AsyncSeek</code> trait to <code>Reader</code> to be able to seek inside asset loaders</a>
<a class="anchor-link" href="#add-asyncseek-trait-to-reader-to-be-able-to-seek-inside-asset-loaders">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<p>Every custom reader (which previously only needed the <code>AsyncRead</code> trait implemented) now also needs to implement the <code>AsyncSeek</code> trait to add the seek capability.</p>
<h3 id="error-info-has-been-added-to-loadstate-failed"><a href="https://github.com/bevyengine/bevy/pull/12709">Error info has been added to LoadState::Failed</a>
<a class="anchor-link" href="#error-info-has-been-added-to-loadstate-failed">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<p>Added <a href="https://docs.rs/bevy/latest/bevy/asset/enum.AssetLoadError.html">AssetLoadError</a> to <a href="https://docs.rs/bevy/latest/bevy/asset/enum.LoadState.html">LoadState::Failed</a> option
Removed <code>Copy</code>, <code>Ord</code> and <code>PartialOrd</code> implementations for <a href="https://docs.rs/bevy/latest/bevy/asset/enum.LoadState.html">LoadState</a> enum
Added <code>Eq</code> and <code>PartialEq</code> implementations for <a href="https://docs.rs/bevy/latest/bevy/asset/io/struct.MissingAssetSourceError.html">MissingAssetSourceError</a>, <a href="https://docs.rs/bevy/latest/bevy/asset/io/struct.MissingProcessedAssetReaderError.html">MissingProcessedAssetReaderError</a>, <a href="https://docs.rs/bevy/latest/bevy/asset/enum.DeserializeMetaError.html">DeserializeMetaError</a>, <a href="https://docs.rs/bevy/latest/bevy/asset/enum.LoadState.html">LoadState</a>, <a href="https://docs.rs/bevy/latest/bevy/asset/enum.AssetLoadError.html">AssetLoadError</a>, <a href="https://docs.rs/bevy/latest/bevy/asset/struct.MissingAssetLoaderForTypeNameError.html">MissingAssetLoaderForTypeNameError</a> and <a href="https://docs.rs/bevy/latest/bevy/asset/struct.MissingAssetLoaderForTypeIdError.html">MissingAssetLoaderForTypeIdError</a></p>
<h3 id="make-assetmetacheck-a-field-on-the-asset-plugin"><a href="https://github.com/bevyengine/bevy/pull/13177">Make <code>AssetMetaCheck</code> a field on the asset plugin</a>
<a class="anchor-link" href="#make-assetmetacheck-a-field-on-the-asset-plugin">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<p>Changes to how bevy handles asset meta files now need to be specified when inserting the <code>AssetPlugin</code>.</p>
<h3 id="add-more-load-direct-implementations"><a href="https://github.com/bevyengine/bevy/pull/13415">Add more load_direct implementations</a>
<a class="anchor-link" href="#add-more-load-direct-implementations">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<ul>
<li><code>LoadContext::load_direct</code> has been renamed to <code>LoadContext::load_direct_untyped</code>. You may find the new <code>load_direct</code> is more appropriate for your use case (and the migration may only be moving one type parameter).</li>
<li><code>LoadContext::load_direct_with_reader</code> has been renamed to <code>LoadContext::load_direct_untyped_with_reader</code>.</li>
</ul>
<hr />
<p>This might not be an obvious win as a solution because it introduces quite a few new <code>load_direct</code> alternatives - but it does follow the existing pattern pretty well. Im very open to alternatives. :sweat_smile:</p>
<h3 id="make-loadcontext-use-the-builder-pattern-for-loading-dependent-assets"><a href="https://github.com/bevyengine/bevy/pull/13465">Make LoadContext use the builder pattern for loading dependent assets</a>
<a class="anchor-link" href="#make-loadcontext-use-the-builder-pattern-for-loading-dependent-assets">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
</div>
<ul>
<li>Several LoadContext method calls will need to be updated:
<ul>
<li><code>load_context.load_with_settings(path, settings)</code> =&gt; <code>load_context.loader().with_settings(settings).load(path)</code></li>
<li><code>load_context.load_untyped(path)</code> =&gt; <code>load_context.loader().untyped().load(path)</code></li>
<li><code>load_context.load_direct(path)</code> =&gt; <code>load_context.loader().direct().load(path)</code></li>
<li><code>load_context.load_direct_untyped(path)</code> =&gt; <code>load_context.loader().direct().untyped().load(path)</code></li>
<li><code>load_context.load_direct_with_settings(path, settings)</code> =&gt; <code>load_context.loader().with_settings(settings).direct().load(path)</code></li>
<li><code>load_context.load_direct_with_reader(reader, path)</code> =&gt; <code>load_context.loader().direct().with_reader(reader).load(path)</code></li>
<li><code>load_context.load_direct_with_reader_and_settings(reader, path, settings)</code> =&gt; <code>load_context.loader().with_settings(settings).direct().with_reader(reader).load(path)</code></li>
<li><code>load_context.load_direct_untyped_with_reader(reader, path)</code> =&gt; <code>load_context.loader().direct().with_reader(reader).untyped().load(path)</code></li>
</ul>
</li>
</ul>
<hr />
<p>CC @alice-i-cecile / @bushrat011899 </p>
<p>Examples:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust">load_context<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">loader</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">with_asset_type<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_asset_type_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">TypeId<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">of<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_settings</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">settings</span><span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> settings<span class="z-punctuation z-accessor z-dot z-rust">.</span>key <span class="z-keyword z-operator z-assignment z-rust">=</span> value<span class="z-punctuation z-terminator z-rust">;</span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Then, for a Handle&lt;A&gt;:
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or, for a Handle&lt;LoadedUntypedAsset&gt;:
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">untyped</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or, to load an `A` directly:
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">direct</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-meta z-path z-rust">load<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>A<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span>await
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Or, to load an `ErasedLoadedAsset` directly:
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">direct</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">untyped</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span>await
</span></code></pre>
<h3 id="allow-setting-renderassetusages-for-gltf-meshes-materials-during-load"><a href="https://github.com/bevyengine/bevy/pull/12302">Allow setting RenderAssetUsages for gLTF meshes &amp; materials during load</a>
<a class="anchor-link" href="#allow-setting-renderassetusages-for-gltf-meshes-materials-during-load">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>When loading gLTF assets with <code>asset_server.load_with_settings</code>, use <code>RenderAssetUsages</code> instead of <code>bool</code> when setting load_meshes e.g.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> <span class="z-keyword z-operator z-rust">_</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> asset_server<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">load_with_settings</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>...<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">|</span></span></span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-variable z-parameter z-rust">s</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> GltfLoaderSettings<span class="z-punctuation z-section z-parameters z-end z-rust">|</span></span> </span><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust">    s<span class="z-punctuation z-accessor z-dot z-rust">.</span>load_meshes <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">RenderAssetUsages<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-constant z-other z-rust">RENDER_WORLD</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"><span class="z-meta z-function z-closure z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>Use the new load_materials field for controlling material load &amp; retention behaviour instead of load_meshes.</p>
<p>gLTF .meta files need similar updates e.g</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust">load_meshes<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-language z-rust">true</span><span class="z-punctuation z-separator z-rust">,</span>
</span></code></pre>
<p>to</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust">load_meshes<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>MAIN_WORLD | RENDER_WORLD<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></code></pre>
<h3 id="consolidate-render-ui-materials-2d-into-renderassets"><a href="https://github.com/bevyengine/bevy/pull/12827">Consolidate Render(Ui)Materials(2d) into RenderAssets</a>
<a class="anchor-link" href="#consolidate-render-ui-materials-2d-into-renderassets">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Assets</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>RenderAsset</code> is now implemented for the destination type rather that the source asset type. The source asset type is now the <code>RenderAsset</code> traits <code>SourceAsset</code> associated type.</li>
</ul>
<h3 id="fix-leftover-references-to-children-when-despawning-audio-entities"><a href="https://github.com/bevyengine/bevy/pull/12407">Fix leftover references to children when despawning audio entities</a>
<a class="anchor-link" href="#fix-leftover-references-to-children-when-despawning-audio-entities">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Audio</div>
</div>
<p><code>PlaybackSettings::DESPAWN</code> (<code>PlaybackMode::Despawn</code>) now despawns the audio entitys children as well. If you were relying on the previous behavior, you may be able to use <code>PlaybackMode::Remove</code>, or you may need to use <code>PlaybackMode::Once</code> and manage your audio component lifecycle manually.</p>
<h3 id="check-cfg-during-ci-and-fix-feature-typos"><a href="https://github.com/bevyengine/bevy/pull/12103">Check <code>cfg</code> during CI and fix feature typos</a>
<a class="anchor-link" href="#check-cfg-during-ci-and-fix-feature-typos">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Build-System</div>
</div>
<p>No breaking changes</p>
<h3 id="tools-refactor-ci-to-use-argh"><a href="https://github.com/bevyengine/bevy/pull/12923">tools: Refactor CI to use <code>argh</code></a>
<a class="anchor-link" href="#tools-refactor-ci-to-use-argh">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Build-System</div>
</div>
<p>The CI tool no longer supports running multiple subcommands in a single call. Users who are currently doing so will need to split them across multiple commands:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> BEFORE</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> lints doc compile</span>
</span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> AFTER</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> lints </span><span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> doc </span><span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> compile</span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> or</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> lints</span><span class="z-keyword z-operator z-logical z-continue z-shell">;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> doc</span><span class="z-keyword z-operator z-logical z-continue z-shell">;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> compile</span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> or</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> lints</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> doc</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> ci<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> compile</span>
</span></code></pre>
<h3 id="move-wgsl-color-operations-from-bevy-pbr-to-bevy-render"><a href="https://github.com/bevyengine/bevy/pull/13209">move wgsl color operations from bevy_pbr to bevy_render</a>
<a class="anchor-link" href="#move-wgsl-color-operations-from-bevy-pbr-to-bevy-render">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
</div>
<p>In users shader code replace usage of mathematical constants from <code>bevy_pbr::utils</code> to the usage of the same constants from <code>bevy_render::maths</code>.</p>
<h3 id="remove-clampcolor"><a href="https://github.com/bevyengine/bevy/pull/13307">Remove <code>ClampColor</code></a>
<a class="anchor-link" href="#remove-clampcolor">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
</div>
<p>Manually clamp the various colour components yourself if this behaviour is still required.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">clamped_srgba</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">color</span><span class="z-punctuation z-separator z-rust">:</span> Srgba</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> Srgba</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    Srgba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        red<span class="z-punctuation z-separator z-rust">:</span> color<span class="z-punctuation z-accessor z-dot z-rust">.</span>red<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clamp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        green<span class="z-punctuation z-separator z-rust">:</span> color<span class="z-punctuation z-accessor z-dot z-rust">.</span>green<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clamp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        blue<span class="z-punctuation z-separator z-rust">:</span> color<span class="z-punctuation z-accessor z-dot z-rust">.</span>blue<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clamp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        alpha<span class="z-punctuation z-separator z-rust">:</span> color<span class="z-punctuation z-accessor z-dot z-rust">.</span>alpha<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">clamp</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">1.</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="migrate-from-legacycolor-to-bevy-color-color"><a href="https://github.com/bevyengine/bevy/pull/12163">Migrate from <code>LegacyColor</code> to <code>bevy_color::Color</code></a>
<a class="anchor-link" href="#migrate-from-legacycolor-to-bevy-color-color">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Gizmos</div>
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">Text</div>
<div class="migration-guide-area-tag">UI</div>
</div>
<p>Bevys color types have changed! Wherever you used a <code>bevy::render::Color</code>, a <code>bevy::color::Color</code> is used instead.</p>
<p>These are quite similar! Both are enums storing a color in a specific color space (or to be more precise, using a specific color model). However, each of the different color models now has its own type.</p>
<p>TODO</p>
<ul>
<li><code>Color::rgba</code>, <code>Color::rgb</code>, <code>Color::rbga_u8</code>, <code>Color::rgb_u8</code>, <code>Color::rgb_from_array</code> are now <code>Color::srgba</code>, <code>Color::srgb</code>, <code>Color::srgba_u8</code>, <code>Color::srgb_u8</code> and <code>Color::srgb_from_array</code>.</li>
<li><code>Color::set_a</code> and <code>Color::a</code> is now <code>Color::set_alpha</code> and <code>Color::alpha</code>. These are part of the <code>Alpha</code> trait in <code>bevy_color</code>.</li>
<li><code>Color::is_fully_transparent</code> is now part of the <code>Alpha</code> trait in <code>bevy_color</code></li>
<li><code>Color::r</code>, <code>Color::set_r</code>, <code>Color::with_r</code> and the equivalents for <code>g</code>, <code>b</code> <code>h</code>, <code>s</code> and <code>l</code> have been removed due to causing silent relatively expensive conversions. Convert your <code>Color</code> into the desired color space, perform your operations there, and then convert it back into a polymorphic <code>Color</code> enum.</li>
<li><code>Color::hex</code> is now <code>Srgba::hex</code>. Call <code>.into</code> or construct a <code>Color::Srgba</code> variant manually to convert it. </li>
<li><code>WireframeMaterial</code>, <code>ExtractedUiNode</code>, <code>ExtractedDirectionalLight</code>, <code>ExtractedPointLight</code>, <code>ExtractedSpotLight</code>  and <code>ExtractedSprite</code> now store a <code>LinearRgba</code>, rather than a polymorphic <code>Color</code></li>
<li><code>Color::rgb_linear</code> and <code>Color::rgba_linear</code> are now <code>Color::linear_rgb</code> and <code>Color::linear_rgba</code></li>
<li>The various CSS color constants are no longer stored directly on <code>Color</code>. Instead, theyre defined in the <code>Srgba</code> color space, and accessed via <code>bevy::color::palettes::css</code>. Call <code>.into()</code> on them to convert them into a <code>Color</code> for quick debugging use, and consider using the much prettier <code>tailwind</code> palette for prototyping.</li>
<li>The <code>LIME_GREEN</code> color has been renamed to <code>LIMEGREEN</code> to comply with the standard naming.</li>
<li>Vector field arithmetic operations on <code>Color</code> (add, subtract, multiply and divide by a f32) have been removed. Instead, convert your colors into <code>LinearRgba</code> space, and perform your operations explicitly there. This is particularly relevant when working with emissive or HDR colors, whose color channel values are routinely outside of the ordinary 0 to 1 range.</li>
<li><code>Color::as_linear_rgba_f32</code> has been removed. Call <code>LinearRgba::to_f32_array</code> instead, converting if needed.</li>
<li><code>Color::as_linear_rgba_u32</code> has been removed. Call <code>LinearRgba::to_u32</code> instead, converting if needed.</li>
<li>Several other color conversion methods to transform LCH or HSL colors into float arrays or <code>Vec</code> types have been removed. Please reimplement these externally or open a PR to re-add them if you found them particularly useful.</li>
<li>Various methods on <code>Color</code> such as <code>rgb</code> or <code>hsl</code> to convert the color into a specific color space have been removed. Convert into <code>LinearRgba</code>, then to the color space of your choice.</li>
<li>Various implicitly-converting color value methods on <code>Color</code> such as <code>r</code>, <code>g</code>, <code>b</code> or <code>h</code> have been removed. Please convert it into the color space of your choice, then check these properties.</li>
<li><code>Color</code> no longer implements <code>AsBindGroup</code>. Store a <code>LinearRgba</code> internally instead to avoid conversion costs.</li>
</ul>
<h3 id="bevy-color-created-a-private-trait-standardcolor"><a href="https://github.com/bevyengine/bevy/pull/12072"><code>bevy_color</code>: Created a private trait <code>StandardColor</code></a>
<a class="anchor-link" href="#bevy-color-created-a-private-trait-standardcolor">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><em>No migration required</em></p>
<h3 id="bevy-color-added-xyza-colour-space"><a href="https://github.com/bevyengine/bevy/pull/12079"><code>bevy_color</code>: Added <code>Xyza</code> Colour Space</a>
<a class="anchor-link" href="#bevy-color-added-xyza-colour-space">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>Color</code> enum now has an additional member, <code>Xyza</code>. Convert it to any other type to handle this case in match statements.</li>
</ul>
<h3 id="made-bevy-color-a-dependency-of-bevy-render"><a href="https://github.com/bevyengine/bevy/pull/12105">Made <code>bevy_color</code> a dependency of <code>bevy_render</code></a>
<a class="anchor-link" href="#made-bevy-color-a-dependency-of-bevy-render">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><strong><code>bevy_render::color::colorspace::SrgbColorSpace::&lt;f32&gt;::linear_to_nonlinear_srgb</code></strong></p>
<p>Use <code>bevy_color::color::gamma_function_inverse</code></p>
<p><strong><code>bevy_render::color::colorspace::SrgbColorSpace::&lt;f32&gt;::nonlinear_to_linear_srgb</code></strong></p>
<p>Use <code>bevy_color::color::gamma_function</code></p>
<p><strong><code>bevy_render::color::colorspace::SrgbColorSpace::&lt;u8&gt;::linear_to_nonlinear_srgb</code></strong></p>
<p>Modify the <code>u8</code> value to instead be an <code>f32</code> (<code>|x| x as f32 / 255.</code>), use <code>bevy_color::color::gamma_function_inverse</code>, and back again.</p>
<p><strong><code>bevy_render::color::colorspace::SrgbColorSpace::&lt;u8&gt;::nonlinear_to_linear_srgb</code></strong></p>
<p>Modify the <code>u8</code> value to instead be an <code>f32</code> (<code>|x| x as f32 / 255.</code>), use <code>bevy_color::color::gamma_function</code>, and back again.</p>
<p><strong><code>bevy_render::color::colorspace::HslRepresentation::hsl_to_nonlinear_srgb</code></strong></p>
<p>Use <code>Hsla</code>s implementation of <code>Into&lt;Srgba&gt;</code></p>
<p><strong><code>bevy_render::color::colorspace::HslRepresentation::nonlinear_srgb_to_hsl</code></strong></p>
<p>Use <code>Srgba</code>s implementation of <code>Into&lt;Hsla&gt;</code></p>
<p><strong><code>bevy_render::color::colorspace::LchRepresentation::lch_to_nonlinear_srgb</code></strong></p>
<p>Use <code>Lcha</code>s implementation of <code>Into&lt;Srgba&gt;</code></p>
<p><strong><code>bevy_render::color::colorspace::LchRepresentation::nonlinear_srgb_to_lch</code></strong></p>
<p>Use <code>Srgba</code>s implementation of <code>Into&lt;Lcha&gt;</code></p>
<h3 id="port-bevy-core-pipeline-to-linearrgba"><a href="https://github.com/bevyengine/bevy/pull/12116">Port <code>bevy_core_pipeline</code> to <code>LinearRgba</code></a>
<a class="anchor-link" href="#port-bevy-core-pipeline-to-linearrgba">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><code>ColorAttachment</code> now stores a <code>LinearRgba</code> color, rather than a Bevy 0.13 <code>Color</code>.
<code>set_blend_constant</code> now takes a <code>LinearRgba</code> argument, rather than a Bevy 0.13 <code>Color</code>.</p>
<h3 id="bevy-color-added-hsva-and-hwba-models"><a href="https://github.com/bevyengine/bevy/pull/12114"><code>bevy_color</code>: Added <code>Hsva</code> and <code>Hwba</code> Models</a>
<a class="anchor-link" href="#bevy-color-added-hsva-and-hwba-models">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Convert <code>Hsva</code> / <code>Hwba</code> to either <code>Hsla</code> or <code>Srgba</code> using the provided <code>From</code> implementations and then handle accordingly.</li>
</ul>
<h3 id="bevy-color-add-laba-to-support-lab-color-model"><a href="https://github.com/bevyengine/bevy/pull/12115"><code>bevy_color</code>: Add <code>Laba</code> to support Lab Color Model</a>
<a class="anchor-link" href="#bevy-color-add-laba-to-support-lab-color-model">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Convert <code>Laba</code> to either <code>Xyza</code> or <code>Lcha</code> using the provided <code>From</code> implementations and then handle accordingly.</li>
</ul>
<h3 id="bevy-color-add-oklch-color-space"><a href="https://github.com/bevyengine/bevy/pull/12168"><code>bevy_color</code>: Add Oklch Color Space</a>
<a class="anchor-link" href="#bevy-color-add-oklch-color-space">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Convert <code>Oklcha</code> to <code>Oklaba</code> using the provided <code>From</code> implementations and then handle accordingly.</li>
</ul>
<h3 id="fix-oklab-and-oklch-color-space-inconsistency"><a href="https://github.com/bevyengine/bevy/pull/12583">Fix <code>Oklab</code> and <code>Oklch</code> color space inconsistency</a>
<a class="anchor-link" href="#fix-oklab-and-oklch-color-space-inconsistency">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>The following methods have been renamed for the <code>Oklch</code> color space:</p>
<ul>
<li><code>with_l</code> -&gt; <code>with_lightness</code>.</li>
<li><code>with_c</code> -&gt; <code>with_chroma</code>.</li>
<li><code>with_h</code> -&gt; <code>with_hue</code>.</li>
</ul>
<h3 id="add-hue-traits"><a href="https://github.com/bevyengine/bevy/pull/12399">Add hue traits</a>
<a class="anchor-link" href="#add-hue-traits">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>Users of Oklcha need to change their usage to use the with_hue method instead of the with_h method.</p>
<h3 id="rename-bevy-render-color-to-legacycolor"><a href="https://github.com/bevyengine/bevy/pull/12069">Rename <code>bevy_render::Color</code> to <code>LegacyColor</code></a>
<a class="anchor-link" href="#rename-bevy-render-color-to-legacycolor">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Color</div>
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">UI</div>
</div>
<p>THIS MIGRATION GUIDE INTENTIONALLY LEFT BLANK.</p>
<p>This change should not be shipped to end users: delete this section in the final migration guide!</p>
<h3 id="clean-up-some-low-level-dependencies"><a href="https://github.com/bevyengine/bevy/pull/12858">Clean up some low level dependencies</a>
<a class="anchor-link" href="#clean-up-some-low-level-dependencies">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Cross-Cutting</div>
</div>
<p>TODO</p>
<h3 id="determine-msrv-for-every-standalone-bevy-crate"><a href="https://github.com/bevyengine/bevy/pull/13211">Determine msrv for every standalone bevy_* crate.</a>
<a class="anchor-link" href="#determine-msrv-for-every-standalone-bevy-crate">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Cross-Cutting</div>
</div>
<p>If your rust toolchain is bellow version`1.77.0, update.</p>
<h3 id="remove-close-on-esc"><a href="https://github.com/bevyengine/bevy/pull/12859">remove close_on_esc</a>
<a class="anchor-link" href="#remove-close-on-esc">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Dev-Tools</div>
</div>
<ul>
<li>Users who added <code>close_on_esc</code> in their application will have to replace it with their own solution.</li>
</ul>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-modifier z-rust">pub</span> <span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">close_on_esc</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">commands</span><span class="z-punctuation z-separator z-rust">:</span> Commands,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">focused_windows</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Entity, <span class="z-keyword z-operator z-rust">&amp;</span>Window<span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-variable z-parameter z-rust">input</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Res<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span><span class="z-meta z-generic z-rust">ButtonInput<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>KeyCode<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>window<span class="z-punctuation z-separator z-rust">,</span> focus</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> focused_windows<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">iter</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> <span class="z-keyword z-operator z-logical z-rust">!</span>focus<span class="z-punctuation z-accessor z-dot z-rust">.</span>focused <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-keyword z-control z-rust">continue</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">if</span> input<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">just_pressed</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">KeyCode<span class="z-punctuation z-accessor z-rust">::</span></span>Escape</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            commands<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>window</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">despawn</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="move-close-on-esc-to-bevy-dev-tools"><a href="https://github.com/bevyengine/bevy/pull/12855">Move <code>close_on_esc</code> to <code>bevy_dev_tools</code></a>
<a class="anchor-link" href="#move-close-on-esc-to-bevy-dev-tools">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Dev-Tools</div>
<div class="migration-guide-area-tag">Windowing</div>
</div>
<p><code>bevy_window::close_on_esc</code> has been moved to <code>bevy_dev_tools::close_on_esc</code>. You will first need to enable <code>bevy_dev_tools</code> as a feature in your <code>Cargo.toml</code>:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">dependencies</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">bevy</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">version</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>0.14<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>bevy_dev_tools<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-definition z-array z-end z-toml">]</span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span>
</span></code></pre>
<p>Finally, modify any imports to use <code>bevy_dev_tools</code> instead:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Old:
</span></span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> use bevy::window::close_on_esc;
</span></span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> New:
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">dev_tools<span class="z-punctuation z-accessor z-rust">::</span></span>close_on_esc<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-meta z-path z-rust">App<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>Update<span class="z-punctuation z-separator z-rust">,</span> close_on_esc</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span><span class="z-source z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="make-sysinfo-diagnostic-plugin-optional"><a href="https://github.com/bevyengine/bevy/pull/12164">Make sysinfo diagnostic plugin optional</a>
<a class="anchor-link" href="#make-sysinfo-diagnostic-plugin-optional">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Diagnostics</div>
</div>
<ul>
<li>For users who disable default features of bevy and wish to enable the diagnostic plugin, add <code>sysinfo_plugin</code> to your bevy features list.</li>
</ul>
<h3 id="add-access-to-app-within-logplugin-update-subscriber"><a href="https://github.com/bevyengine/bevy/pull/12045">Add access to <code>App</code> within <code>LogPlugin::update_subscriber</code></a>
<a class="anchor-link" href="#add-access-to-app-within-logplugin-update-subscriber">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Diagnostics</div>
</div>
<p><code>LogPlugin::update_subscriber</code> now has a <code>&amp;mut App</code> parameter. If you dont need access to <code>App</code>, you can ignore the parameter with an underscore (<code>_</code>).</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-keyword z-operator z-arithmetic z-rust">-</span> <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">update_subscriber</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">subscriber</span><span class="z-punctuation z-separator z-rust">:</span> BoxedSubscriber</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> BoxedSubscriber</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-keyword z-operator z-arithmetic z-rust">+</span> <span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">update_subscriber</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">_</span>: <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> App, <span class="z-variable z-parameter z-rust">subscriber</span><span class="z-punctuation z-separator z-rust">:</span> BoxedSubscriber</span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> BoxedSubscriber</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">      <span class="z-support z-type z-rust">Box</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>subscriber<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>CustomLayer</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></span></span></code></pre>
<h3 id="improve-tracing-layer-customization"><a href="https://github.com/bevyengine/bevy/pull/13159">Improve tracing layer customization</a>
<a class="anchor-link" href="#improve-tracing-layer-customization">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Diagnostics</div>
</div>
<ul>
<li>The <code>LogPlugin</code>s <code>update_subscriber</code> field has been replaced with <code>custom_layer</code></li>
</ul>
<h3 id="immediately-apply-deferred-system-params-in-system-run"><a href="https://github.com/bevyengine/bevy/pull/11823">Immediately apply deferred system params in System::run</a>
<a class="anchor-link" href="#immediately-apply-deferred-system-params-in-system-run">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>System::run</code> will now always run <code>System::apply_deferred</code> immediately after running the system now. If you were running systems and then applying their deferred buffers at a later point in time, you can eliminate the latter.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> in 0.13
</span></span><span class="z-source z-rust">system<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> .. sometime later ...
</span></span><span class="z-source z-rust">system<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">apply_deferred</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> in 0.14
</span></span><span class="z-source z-rust">system<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">run</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>world</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="move-commands-module-into-bevy-ecs-world"><a href="https://github.com/bevyengine/bevy/pull/12234">Move commands module into bevy::ecs::world</a>
<a class="anchor-link" href="#move-commands-module-into-bevy-ecs-world">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>Command</code> and <code>CommandQueue</code> have been moved from <code>bevy::ecs::system</code> to <code>bevy::ecs::world</code>.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.13
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ecs<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">world<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Command<span class="z-punctuation z-separator z-rust">,</span> CommandQueue</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.14
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">ecs<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">system<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>Command<span class="z-punctuation z-separator z-rust">,</span> CommandQueue</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="remove-componentstorage-and-associated-types"><a href="https://github.com/bevyengine/bevy/pull/12311">Remove ComponentStorage and associated types</a>
<a class="anchor-link" href="#remove-componentstorage-and-associated-types">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p>If you were manually implementing <code>Component</code> instead of using the derive macro, replace the associated <code>Storage</code> associated type with the <code>STORAGE_TYPE</code> const:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> in Bevy 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Component <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyComponent</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-type z-rust">type</span> <span class="z-entity z-name z-type z-rust">Storage</span> <span class="z-keyword z-operator z-assignment z-rust">=</span> TableStorage<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> in Bevy 0.14
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span> </span><span class="z-meta z-impl z-rust">Component <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyComponent</span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">const</span> <span class="z-constant z-other z-rust">STORAGE_TYPE</span><span class="z-punctuation z-separator z-rust">:</span> StorageType <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">StorageType<span class="z-punctuation z-accessor z-rust">::</span></span>Table<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>Component is no longer object safe. If you were relying on <code>&amp;dyn Component</code>, <code>Box&lt;dyn Component&gt;</code>, etc. please <a href="https://github.com/bevyengine/bevy/issues">file an issue </a> to get <a href="https://github.com/bevyengine/bevy/pull/12311">this change</a> reverted.</p>
<h3 id="remove-archetype-component-access-from-querystate"><a href="https://github.com/bevyengine/bevy/pull/12474">Remove archetype_component_access from QueryState</a>
<a class="anchor-link" href="#remove-archetype-component-access-from-querystate">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>QueryState::archetype_component_access</code> has been removed. This can be worked around by accessing the surrounding <code>SystemState</code>s instead. If you needed this explicitly for <code>QueryState</code>, please file an <a href="https://github.com/bevyengine/bevy/issues">issue</a>.</p>
<h3 id="remove-worldcell"><a href="https://github.com/bevyengine/bevy/pull/12551">Remove WorldCell</a>
<a class="anchor-link" href="#remove-worldcell">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>WorldCell</code> has been removed. If you were using it to fetch multiple distinct values from a <code>&amp;mut World</code>, use <code>SystemState</code> by calling <code>SystemState::get</code> instead. Alternatively, if <code>SystemState</code> cannot be used, <code>UnsafeWorldCell</code> can instead be used in unsafe contexts.</p>
<h3 id="allow-commands-to-register-systems"><a href="https://github.com/bevyengine/bevy/pull/11019">Allow Commands to register systems</a>
<a class="anchor-link" href="#allow-commands-to-register-systems">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<ul>
<li>Changed SystemId fields from tuple struct to a normal struct
If you want to access the entity field, you should use <code>SystemId::entity</code> instead of <code>SystemId::0</code></li>
</ul>
<h3 id="store-only-the-ids-needed-for-query-iteration"><a href="https://github.com/bevyengine/bevy/pull/12476">Store only the IDs needed for Query iteration</a>
<a class="anchor-link" href="#store-only-the-ids-needed-for-query-iteration">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>QueryState::matched_tables</code> and <code>QueryState::matched_archetypes</code> does not return a reference to a slice, but an iterator instead. You may need to use iterator combinators or collect them into a Vec to use it as a slice.</p>
<h3 id="remove-stepping-from-default-features"><a href="https://github.com/bevyengine/bevy/pull/12847">Remove stepping from default features</a>
<a class="anchor-link" href="#remove-stepping-from-default-features">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p>The system-by-system stepping feature is now disabled by default; to use it, enable the <code>bevy_debug_stepping</code> feature explicitly:</p>
<pre data-lang="toml" class="language-toml z-code"><code class="language-toml" data-lang="toml"><span class="z-source z-toml"><span class="z-punctuation z-definition z-table z-begin z-toml">[</span><span class="z-meta z-tag z-table z-toml"><span class="z-entity z-name z-table z-toml">dependencies</span></span><span class="z-punctuation z-definition z-table z-end z-toml">]</span>
</span><span class="z-source z-toml"><span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">bevy</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-inline-table z-begin z-toml">{</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">version</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>0.14<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-separator z-inline-table z-toml">,</span> <span class="z-meta z-tag z-key z-toml"><span class="z-entity z-name z-tag z-toml">features</span></span> <span class="z-punctuation z-definition z-key-value z-toml">=</span> <span class="z-punctuation z-definition z-array z-begin z-toml">[</span><span class="z-string z-quoted z-double z-basic z-toml"><span class="z-punctuation z-definition z-string z-begin z-toml">&quot;</span>bevy_debug_stepping<span class="z-punctuation z-definition z-string z-end z-toml">&quot;</span></span><span class="z-punctuation z-definition z-array z-end z-toml">]</span> <span class="z-punctuation z-definition z-inline-table z-end z-toml">}</span>
</span></code></pre>
<p>Code using <a href="https://docs.rs/bevy/latest/bevy/ecs/schedule/struct.Stepping.html"><code>Stepping</code></a> will still compile with the feature disabled, but will print a runtime error message to the console if the application attempts to enable stepping.</p>
<h3 id="optimize-event-updates"><a href="https://github.com/bevyengine/bevy/pull/12936">Optimize Event Updates</a>
<a class="anchor-link" href="#optimize-event-updates">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p>TODO</p>
<h3 id="make-systemparam-new-archetype-and-querystate-new-archetype-unsafe-functions"><a href="https://github.com/bevyengine/bevy/pull/13044">Make SystemParam::new_archetype and QueryState::new_archetype unsafe functions</a>
<a class="anchor-link" href="#make-systemparam-new-archetype-and-querystate-new-archetype-unsafe-functions">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><code>QueryState::new_archetype</code> and <code>SystemParam::new_archetype</code> are now an unsafe functions that must be sure that the provided <code>Archetype</code> is from the same <code>World</code> that the state was initialized from. Callers may need to add additional assertions or propagate the safety invariant upwards through the callstack to ensure safety.</p>
<h3 id="better-systemid-to-entity-conversions"><a href="https://github.com/bevyengine/bevy/pull/13090">Better SystemId to Entity conversions</a>
<a class="anchor-link" href="#better-systemid-to-entity-conversions">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> system_id <span class="z-keyword z-operator z-assignment z-rust">=</span> world<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">register_system</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_sys</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> old
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> entity <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">Entity<span class="z-punctuation z-accessor z-rust">::</span></span>from<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>system_id</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> new
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> entity <span class="z-keyword z-operator z-assignment z-rust">=</span> system_id<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">entity</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="computed-state-sub-states"><a href="https://github.com/bevyengine/bevy/pull/11426">Computed State &amp; Sub States</a>
<a class="anchor-link" href="#computed-state-sub-states">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p><a href="https://docs.rs/bevy/latest/bevy/ecs/prelude/struct.NextState.html"><code>NextState</code></a> is now an enum. If you were constructing it manually or matching on its value, you will need to use the equivalent enum variants.</p>
<table><thead><tr><th>0.13</th><th>0.14</th></tr></thead><tbody>
<tr><td><code>NextState(Some(S))</code></td><td><code>NextState::Pending(S)</code></td></tr>
<tr><td><code>NextState(None)</code></td><td><code>NextState::Unchanged</code></td></tr>
</tbody></table>
<p>If you were manually adding <code>apply_state_transition</code> to your app, add an exclusive system that runs the <code>StateTransition</code> schedule instead.</p>
<h3 id="separate-state-crate"><a href="https://github.com/bevyengine/bevy/pull/13216">Separate state crate</a>
<a class="anchor-link" href="#separate-state-crate">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p>States were moved to a separate crate which is gated behind the <code>bevy_state</code> feature. Projects that use state but don't use Bevy's <code>default-features</code> will need to add that feature to their <code>Cargo.toml</code>.</p>
<p>Projects that use <code>bevy_ecs</code> directly and use states will need to add the <code>bevy_state</code> crate as a dependency.</p>
<p>Projects that use <code>bevy_app</code> directly and use states will need to add the <code>bevy_state</code> feature.</p>
<h3 id="constrain-worldquery-get-state-to-only-use-components"><a href="https://github.com/bevyengine/bevy/pull/13343">constrain WorldQuery::get_state to only use &amp;Components</a>
<a class="anchor-link" href="#constrain-worldquery-get-state-to-only-use-components">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
</div>
<p>Users of <code>WorldQuery::get_state</code> or <code>transmute</code>, <code>transmute_filtered</code>, <code>join</code> and <code>join_filtered</code> methods on <code>QueryState</code> now need to pass <code>&amp;Components</code> instead of <code>&amp;World</code>. 
<code>&amp;Components</code> can be trivially obtained from either <code>components</code> method on <code>&amp;World</code> or <code>UnsafeWorldCell</code>.
For implementors of <code>WorldQuery::get_state</code> that were accessing more than the <code>Components</code> inside <code>&amp;World</code> and its methods, this is no longer allowed.</p>
<h3 id="replace-fromworld-requirement-on-reflectresource-and-reflect-resource-for-state-s"><a href="https://github.com/bevyengine/bevy/pull/12136">Replace <code>FromWorld</code> requirement on <code>ReflectResource</code> and reflect <code>Resource</code> for <code>State&lt;S&gt;</code></a>
<a class="anchor-link" href="#replace-fromworld-requirement-on-reflectresource-and-reflect-resource-for-state-s">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
<div class="migration-guide-area-tag">Reflection</div>
</div>
<ul>
<li>Users of <code>#[reflect(Resource)]</code> will need to also implement/derive <code>FromReflect</code> (should already be the default).</li>
<li>Users of <code>#[reflect(Resource)]</code> may now want to also add <code>FromWorld</code> to the list of reflected traits in case their <code>FromReflect</code> implementation may fail.</li>
<li>Users of <code>ReflectResource</code> will now need to pass a <code>&amp;TypeRegistry</code> to its <code>insert</code>, <code>apply_or_insert</code> and <code>copy</code> methods.</li>
</ul>
<h3 id="make-some-reflectcomponent-reflectbundle-methods-work-with-entitymut-too"><a href="https://github.com/bevyengine/bevy/pull/12895">Make some <code>ReflectComponent</code>/<code>ReflectBundle</code> methods work with <code>EntityMut</code> too</a>
<a class="anchor-link" href="#make-some-reflectcomponent-reflectbundle-methods-work-with-entitymut-too">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
<div class="migration-guide-area-tag">Reflection</div>
</div>
<ul>
<li><code>ReflectComponentFns</code>s <code>apply</code> and <code>reflect_mut</code> fields now take <code>EntityMut</code> instead of <code>&amp;mut EntityWorldMut</code></li>
<li><code>ReflectBundleFns</code>s <code>apply</code> field now takes <code>EntityMut</code> instead of <code>&amp;mut EntityWorldMut</code></li>
</ul>
<h3 id="make-from-reflect-or-world-also-try-reflectdefault-and-improve-some-comments-and-panic-messages"><a href="https://github.com/bevyengine/bevy/pull/12499">Make <code>from_reflect_or_world</code> also try <code>ReflectDefault</code> and improve some comments and panic messages</a>
<a class="anchor-link" href="#make-from-reflect-or-world-also-try-reflectdefault-and-improve-some-comments-and-panic-messages">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
<div class="migration-guide-area-tag">Reflection</div>
</div>
<ul>
<li><code>ReflectBundle::insert</code> now requires an additional <code>&amp;TypeRegistry</code> parameter.</li>
</ul>
<h3 id="multi-threaded-feature-rename"><a href="https://github.com/bevyengine/bevy/pull/12997">multi_threaded feature rename</a>
<a class="anchor-link" href="#multi-threaded-feature-rename">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
<div class="migration-guide-area-tag">Tasks</div>
</div>
<p>The <code>multi-threaded</code> feature was renamed to <code>multi_threaded</code> for <code>bevy</code>, <code>bevy_asset</code>, <code>bevy_ecs</code>, <code>bevy_render</code>, <code>bevy_tasks</code>, and <code>bevy_internal</code>. Please update your <code>Cargo.toml</code> if you manually specify Bevy features.</p>
<h3 id="moves-intern-and-label-modules-into-bevy-ecs"><a href="https://github.com/bevyengine/bevy/pull/12772">Moves intern and label modules into bevy_ecs</a>
<a class="anchor-link" href="#moves-intern-and-label-modules-into-bevy-ecs">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">ECS</div>
<div class="migration-guide-area-tag">Utils</div>
</div>
<ul>
<li>Replace <code>bevy_utils::define_label</code> imports with <code>bevy_ecs::define_label</code> imports.</li>
<li>Replace <code>bevy_utils::label::DynEq</code> imports with <code>bevy_ecs::label::DynEq</code> imports.</li>
<li>Replace <code>bevy_utils::label::DynHash</code> imports with <code>bevy_ecs::label::DynHash</code> imports.</li>
<li>Replace <code>bevy_utils::intern::Interned</code> imports with <code>bevy_ecs::intern::Interned</code> imports.</li>
<li>Replace <code>bevy_utils::intern::Internable</code> imports with <code>bevy_ecs::intern::Internable</code> imports.</li>
<li>Replace <code>bevy_utils::intern::Interner</code> imports with <code>bevy_ecs::intern::Interner</code> imports.</li>
</ul>
<h3 id="implement-the-animationgraph-allowing-for-multiple-animations-to-be-blended-together"><a href="https://github.com/bevyengine/bevy/pull/11989">Implement the <code>AnimationGraph</code>, allowing for multiple animations to be blended together.</a>
<a class="anchor-link" href="#implement-the-animationgraph-allowing-for-multiple-animations-to-be-blended-together">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Editor</div>
</div>
<ul>
<li></li>
</ul>
<p><code>AnimationPlayer</code>s can no longer play animations by themselves and need to be paired with a <code>Handle&lt;AnimationGraph&gt;</code>. Code that was using <code>AnimationPlayer</code> to play animations will need to create an <code>AnimationGraph</code> asset first, add a node for the clip (or clips) you want to play, and then supply the index of that node to the <code>AnimationPlayer</code>s <code>play</code> method.</p>
<ul>
<li></li>
</ul>
<p>The <code>AnimationPlayer::play_with_transition()</code> method has been removed and replaced with the <code>AnimationTransitions</code> component. If you were previously using <code>AnimationPlayer::play_with_transition()</code>, add all animations that you were playing to the <code>AnimationGraph</code>, and create an <code>AnimationTransitions</code> component to manage the blending between them.</p>
<h3 id="gizmo-line-joints"><a href="https://github.com/bevyengine/bevy/pull/12252">Gizmo line joints</a>
<a class="anchor-link" href="#gizmo-line-joints">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Gizmos</div>
</div>
<p>Any manually created <code>GizmoConfig</code>s must now set the <code>.line_joints</code> field.</p>
<h3 id="gizmo-line-styles"><a href="https://github.com/bevyengine/bevy/pull/12394">Gizmo line styles</a>
<a class="anchor-link" href="#gizmo-line-styles">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Gizmos</div>
</div>
<ul>
<li>Any manually created <code>GizmoConfig</code> must now include the <code>line_style</code> attribute</li>
</ul>
<h3 id="changed-the-order-of-arguments-for-the-arc-gizmo-docs"><a href="https://github.com/bevyengine/bevy/pull/12854">Changed the order of arguments for the Arc gizmo docs</a>
<a class="anchor-link" href="#changed-the-order-of-arguments-for-the-arc-gizmo-docs">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Gizmos</div>
</div>
<blockquote>
</blockquote>
<p>N/A</p>
<h3 id="inconsistent-segments-resolution-naming"><a href="https://github.com/bevyengine/bevy/pull/13438">Inconsistent segments/resolution naming</a>
<a class="anchor-link" href="#inconsistent-segments-resolution-naming">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Gizmos</div>
</div>
<ul>
<li>When working with gizmos, replace all calls to <code>.segments(...)</code> with <code>.resolution(...)</code></li>
</ul>
<h3 id="deprecate-receivedcharacter"><a href="https://github.com/bevyengine/bevy/pull/12868">Deprecate <code>ReceivedCharacter</code></a>
<a class="anchor-link" href="#deprecate-receivedcharacter">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Input</div>
<div class="migration-guide-area-tag">Windowing</div>
</div>
<ul>
<li></li>
</ul>
<p><code>ReceivedCharacter</code> is now deprecated, use <code>KeyboardInput</code> instead.</p>
<ul>
<li></li>
</ul>
<p>Before:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">listen_characters</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">events</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventReader<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>ReceivedCharacter<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> event <span class="z-keyword z-operator z-rust">in</span> events<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>{}<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span><span class="z-punctuation z-separator z-rust">,</span> event<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-storage z-type z-rust">char</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>After:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">listen_characters</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">events</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">EventReader<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>KeyboardInput<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">  <span class="z-keyword z-control z-rust">for</span> event <span class="z-keyword z-operator z-rust">in</span> events<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">read</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Only check for characters when the key is pressed.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> event<span class="z-punctuation z-accessor z-dot z-rust">.</span>state <span class="z-keyword z-operator z-comparison z-rust">==</span> <span class="z-meta z-path z-rust">ButtonState<span class="z-punctuation z-accessor z-rust">::</span></span>Released <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">      <span class="z-keyword z-control z-rust">continue</span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Note that some keys such as `Space` and `Tab` won&#39;t be detected as before.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Instead, check for them with `Key::Space` and `Key::Tab`.
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">if</span> <span class="z-storage z-type z-rust">let</span> <span class="z-meta z-path z-rust">Key<span class="z-punctuation z-accessor z-rust">::</span></span>Character<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>character</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-keyword z-operator z-bitwise z-rust">&amp;</span>event<span class="z-punctuation z-accessor z-dot z-rust">.</span>logical_key <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">      <span class="z-support z-macro z-rust">info!</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-string z-quoted z-double z-rust"><span class="z-punctuation z-definition z-string z-begin z-rust">&quot;</span>{}<span class="z-punctuation z-definition z-string z-end z-rust">&quot;</span></span><span class="z-punctuation z-separator z-rust">,</span> character</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">  </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="add-direction3da-and-move-direction-types-out-of-primitives"><a href="https://github.com/bevyengine/bevy/pull/12018">Add <code>Direction3dA</code> and move direction types out of <code>primitives</code></a>
<a class="anchor-link" href="#add-direction3da-and-move-direction-types-out-of-primitives">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<p>The <code>Direction2d</code>, <code>Direction3d</code>, and <code>InvalidDirectionError</code> types have been moved out of <code>bevy::math::primitives</code>.</p>
<p>Before:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">math<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">primitives<span class="z-punctuation z-accessor z-rust">::</span></span>Direction3d<span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>After:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">math<span class="z-punctuation z-accessor z-rust">::</span></span>Direction3d<span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="rename-direction2d-3d-to-dir2-3"><a href="https://github.com/bevyengine/bevy/pull/12189">Rename <code>Direction2d/3d</code> to <code>Dir2/3</code></a>
<a class="anchor-link" href="#rename-direction2d-3d-to-dir2-3">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<p>The <code>Direction2d</code> and <code>Direction3d</code> types have been renamed to <code>Dir2</code> and <code>Dir3</code>.</p>
<h3 id="make-cardinal-splines-include-endpoints"><a href="https://github.com/bevyengine/bevy/pull/12574">Make cardinal splines include endpoints</a>
<a class="anchor-link" href="#make-cardinal-splines-include-endpoints">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<p>Any users relying on the old behavior of <code>CubicCardinalSpline</code> will have to truncate any parametrizations they used in order to access a curve identical to the one they had previously. This would be done by chopping off a unit-distance segment from each end of the parametrizing interval. For instance, if a users existing code looks as follows</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">interpolate</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">t</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">f32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> Vec2</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> points <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">20.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">9.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">8.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> my_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">CubicCardinalSpline<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">3</span><span class="z-punctuation z-separator z-rust">,</span> points</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_curve</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    my_curve<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">position</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>t</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>then in order to obtain similar behavior, <code>t</code> will need to be shifted up by 1, since the output of <code>CubicCardinalSpline::to_curve</code> has introduced a new segment in the interval [0,1], displacing the old segment from [0,1] to [1,2]:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">interpolate</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span><span class="z-variable z-parameter z-rust">t</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-storage z-type z-rust">f32</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> <span class="z-meta z-function z-return-type z-rust"><span class="z-punctuation z-separator z-rust">-&gt;</span> Vec2</span> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> points <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">[</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-arithmetic z-rust">-</span><span class="z-constant z-numeric z-float z-rust">20.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">2.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">5.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">3.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">        <span class="z-support z-function z-rust">vec2</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">9.</span><span class="z-constant z-numeric z-float z-rust">0</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-constant z-numeric z-float z-rust">8.</span><span class="z-constant z-numeric z-float z-rust">0</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-group z-rust">    <span class="z-punctuation z-section z-group z-end z-rust">]</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-storage z-type z-rust">let</span> my_curve <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">CubicCardinalSpline<span class="z-punctuation z-accessor z-rust">::</span></span>new<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-constant z-numeric z-float z-rust">0.</span><span class="z-constant z-numeric z-float z-rust">3</span><span class="z-punctuation z-separator z-rust">,</span> points</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">to_curve</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    my_curve<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">position</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>t<span class="z-keyword z-operator z-arithmetic z-rust">+</span><span class="z-constant z-numeric z-integer z-decimal z-rust">1</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>(Note that this does not provide identical output for values of <code>t</code> outside of the interval [0,1].)</p>
<p>On the other hand, any user who was specifying additional endpoint tangents simply to get the curve to pass through the right points (i.e. not requiring exactly the same output) can simply omit the endpoints that were being supplied only for control purposes.</p>
<h3 id="move-point-out-of-cubic-splines-module-and-expand-it"><a href="https://github.com/bevyengine/bevy/pull/12747">Move <code>Point</code> out of cubic splines module and expand it</a>
<a class="anchor-link" href="#move-point-out-of-cubic-splines-module-and-expand-it">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<p>Since <code>Point</code> no longer exists, any projects using it must switch to <code>bevy::math::VectorSpace</code>. Additionally, third-party implementations of this trait now require the <code>Neg</code> trait; the constant <code>VectorSpace::ZERO</code> must be provided as well.</p>
<h3 id="remove-vectorspace-impl-on-quat"><a href="https://github.com/bevyengine/bevy/pull/12796">Remove VectorSpace impl on Quat</a>
<a class="anchor-link" href="#remove-vectorspace-impl-on-quat">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<ul>
<li><code>Quat</code> no longer implements <code>VectorSpace</code> as unit quaternions dont actually form proper vector spaces. If youre absolutely certain that what youre doing is correct, convert the <code>Quat</code> into a <code>Vec4</code> and perform the operations before converting back.</li>
</ul>
<h3 id="meshing-for-triangle3d-primitive"><a href="https://github.com/bevyengine/bevy/pull/12686">Meshing for <code>Triangle3d</code> primitive</a>
<a class="anchor-link" href="#meshing-for-triangle3d-primitive">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<p>The UV-mapping of <code>Triangle2d</code> has changed with this PR; the main difference is that the UVs are no longer dependent on the triangles absolute coordinates, but instead follow translations of the triangle itself in its definition. If you depended on the old UV-coordinates for <code>Triangle2d</code>, then you will have to update affected areas to use the new ones which, briefly, can be described as follows:</p>
<ul>
<li>The first coordinate is parallel to the line between the first two vertices of the triangle.</li>
<li>The second coordinate is orthogonal to this, pointing in the direction of the third point.</li>
</ul>
<p>Generally speaking, this means that the first two points will have coordinates <code>[_, 0.]</code>, while the third coordinate will be <code>[_, 1.]</code>, with the exact values depending on the position of the third point relative to the first two. For acute triangles, the first two vertices always have UV-coordinates <code>[0., 0.]</code> and <code>[1., 0.]</code> respectively. For obtuse triangles, the third point will have coordinate <code>[0., 1.]</code> or <code>[1., 1.]</code>, with the coordinate of one of the two other points shifting to maintain proportionality.</p>
<p>For example: </p>
<ul>
<li>The default <code>Triangle2d</code> has UV-coordinates <code>[0., 0.]</code>, <code>[0., 1.]</code>, [<code>0.5, 1.]</code>.</li>
<li>The triangle with vertices <code>vec2(0., 0.)</code>, <code>vec2(1., 0.)</code>, <code>vec2(2., 1.)</code> has UV-coordinates <code>[0., 0.]</code>, <code>[0.5, 0.]</code>, <code>[1., 1.]</code>.</li>
<li>The triangle with vertices <code>vec2(0., 0.)</code>, <code>vec2(1., 0.)</code>, <code>vec2(-2., 1.)</code> has UV-coordinates <code>[2./3., 0.]</code>, <code>[1., 0.]</code>, <code>[0., 1.]</code>.</li>
</ul>
<h3 id="use-vec3a-for-3d-bounding-volumes-and-raycasts"><a href="https://github.com/bevyengine/bevy/pull/13087">Use Vec3A for 3D bounding volumes and raycasts</a>
<a class="anchor-link" href="#use-vec3a-for-3d-bounding-volumes-and-raycasts">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<ul>
<li>3D bounding volumes now use <code>Vec3A</code> types internally, return values from methods on them now return <code>Vec3A</code> instead of <code>Vec3</code></li>
</ul>
<h3 id="update-glam-version-requirement-from-0-25-to-0-27"><a href="https://github.com/bevyengine/bevy/pull/12757">Update glam version requirement from 0.25 to 0.27</a>
<a class="anchor-link" href="#update-glam-version-requirement-from-0-25-to-0-27">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
</div>
<ul>
<li>When using <code>glam</code> exports, keep in mind that <code>vector</code> <code>fract()</code> method now matches Rust implementation (that is <code>self - self.trunc()</code> instead of <code>self - self.floor()</code>). If you want to use the GLSL implementation you should now use <code>fract_gl()</code>.</li>
</ul>
<h3 id="common-meshbuilder-trait"><a href="https://github.com/bevyengine/bevy/pull/13411">Common <code>MeshBuilder</code> trait</a>
<a class="anchor-link" href="#common-meshbuilder-trait">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>When calling <code>.build()</code> you need to import <code>bevy_render::mesh::primitives::MeshBuilder</code></li>
</ul>
<h3 id="make-transform-rotate-axis-and-transform-rotate-local-axis-use-dir3"><a href="https://github.com/bevyengine/bevy/pull/12986">Make <code>Transform::rotate_axis</code> and <code>Transform::rotate_local_axis</code> use <code>Dir3</code></a>
<a class="anchor-link" href="#make-transform-rotate-axis-and-transform-rotate-local-axis-use-dir3">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Transform</div>
</div>
<p>All calls to <code>Transform::rotate_axis</code> and <code>Transform::rotate_local_axis</code> will need to be updated to use a <code>Dir3</code> for the <code>axis</code> parameter rather than a <code>Vec3</code>. For a general input, this means calling <code>Dir3::new</code> and handling the <code>Result</code>, but if the previous vector is already known to be normalized, <code>Dir3::new_unchecked</code> can be called instead. Note that literals like <code>Vec3::X</code> also have corresponding <code>Dir3</code> literals; e.g. <code>Dir3::X</code>, <code>Dir3::NEG_Y</code> and so on.</p>
<h3 id="use-dir3-for-local-axis-methods-in-globaltransform"><a href="https://github.com/bevyengine/bevy/pull/13264">Use <code>Dir3</code> for local axis methods in <code>GlobalTransform</code></a>
<a class="anchor-link" href="#use-dir3-for-local-axis-methods-in-globaltransform">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Transform</div>
</div>
<p>The <code>GlobalTransform</code> components directional axis methods (e.g., <code>right()</code>, <code>left()</code>, <code>up()</code>, <code>down()</code>, <code>back()</code>, <code>forward()</code>) have been updated from returning <code>Vec3</code> to <code>Dir3</code>.</p>
<h3 id="fix-ord-and-partialord-differing-for-floatord-and-optimize-implementation"><a href="https://github.com/bevyengine/bevy/pull/12711">Fix <code>Ord</code> and <code>PartialOrd</code> differing for <code>FloatOrd</code> and optimize implementation</a>
<a class="anchor-link" href="#fix-ord-and-partialord-differing-for-floatord-and-optimize-implementation">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Utils</div>
</div>
<ul>
<li>If you were depending on the <code>PartialOrd</code> behaviour of <code>FloatOrd</code>, it has changed from matching <code>f32</code> to matching <code>FloatOrd</code>s <code>Ord</code> ordering, never returning <code>None</code>.</li>
</ul>
<h3 id="move-floatord-into-bevy-math"><a href="https://github.com/bevyengine/bevy/pull/12732">Move FloatOrd into bevy_math</a>
<a class="anchor-link" href="#move-floatord-into-bevy-math">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Math</div>
<div class="migration-guide-area-tag">Utils</div>
</div>
<p><code>FloatOrd</code> has been moved to <code>bevy_math</code>.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.13
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">utils<span class="z-punctuation z-accessor z-rust">::</span></span>FloatOrd<span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.14
</span></span><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">bevy<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-path z-rust">math<span class="z-punctuation z-accessor z-rust">::</span></span>FloatOrd<span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="reflect-treat-proxy-types-correctly-when-serializing"><a href="https://github.com/bevyengine/bevy/pull/12024">reflect: treat proxy types correctly when serializing</a>
<a class="anchor-link" href="#reflect-treat-proxy-types-correctly-when-serializing">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
</div>
<ul>
<li>If <code>ReflectSerialize</code> is registered on a type, but <code>TypePath</code> or <code>FromReflect</code> implementations are omitted (perhaps by <code>#[reflect(type_path = false)</code> or <code>#[reflect(from_reflect = false)]</code>), the traits must now be implemented.</li>
</ul>
<h3 id="bevy-reflect-recursive-registration"><a href="https://github.com/bevyengine/bevy/pull/5781">bevy_reflect: Recursive registration</a>
<a class="anchor-link" href="#bevy-reflect-recursive-registration">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
</div>
<p>All types that derive <code>Reflect</code> will now automatically add <code>GetTypeRegistration</code> as a bound on all (unignored) fields. This means that all reflected fields will need to also implement <code>GetTypeRegistration</code>.</p>
<p>If all fields <strong>derive</strong> <code>Reflect</code> or are implemented in <code>bevy_reflect</code>, this should not cause any issues. However, manual implementations of <code>Reflect</code> that excluded a <code>GetTypeRegistration</code> impl for their type will need to add one.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-meta z-annotation z-rust"><span class="z-punctuation z-definition z-annotation z-rust">#</span><span class="z-punctuation z-section z-group z-begin z-rust">[</span><span class="z-variable z-annotation z-rust">derive</span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust">Reflect</span></span><span class="z-meta z-annotation z-parameters z-rust"><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span></span><span class="z-punctuation z-section z-group z-end z-rust">]</span></span>
</span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-storage z-type z-struct z-rust">struct</span> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-generic z-rust"><span class="z-entity z-name z-struct z-rust">Foo</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> FromReflect<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span></span><span class="z-meta z-struct z-rust"> </span><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust">  <span class="z-variable z-other z-member z-rust">data</span><span class="z-punctuation z-separator z-type z-rust">:</span> <span class="z-meta z-generic z-rust">MyCustomType<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-struct z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> OLD
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> FromReflect<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-impl z-rust"> Reflect <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyCustomType</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> NEW
</span></span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> FromReflect <span class="z-keyword z-operator z-rust">+</span> GetTypeRegistration<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-impl z-rust"> Reflect <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyCustomType</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust"><span class="z-meta z-impl z-rust"><span class="z-storage z-type z-impl z-rust">impl</span></span><span class="z-meta z-impl z-rust"><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-separator z-rust">:</span> FromReflect <span class="z-keyword z-operator z-rust">+</span> GetTypeRegistration<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span></span><span class="z-meta z-impl z-rust"> GetTypeRegistration <span class="z-keyword z-other z-rust">for</span></span><span class="z-meta z-impl z-rust"> <span class="z-entity z-name z-impl z-rust">MyCustomType</span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>T<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span> </span><span class="z-meta z-impl z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span><span class="z-comment z-block z-rust"><span class="z-punctuation z-definition z-comment z-rust">/*</span> ... <span class="z-punctuation z-definition z-comment z-rust">*/</span></span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<h3 id="bevy-reflect-rename-untypedreflectdeserializer-to-reflectdeserializer"><a href="https://github.com/bevyengine/bevy/pull/12721">bevy_reflect: Rename <code>UntypedReflectDeserializer</code> to <code>ReflectDeserializer</code></a>
<a class="anchor-link" href="#bevy-reflect-rename-untypedreflectdeserializer-to-reflectdeserializer">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
</div>
<p><code>UntypedReflectDeserializer</code> has been renamed to <code>ReflectDeserializer</code>. Usages will need to be updated accordingly.</p>
<pre data-lang="diff" class="language-diff z-code"><code class="language-diff" data-lang="diff"><span class="z-source z-diff"><span class="z-markup z-deleted z-diff"><span class="z-punctuation z-definition z-deleted z-diff">-</span> let reflect_deserializer = UntypedReflectDeserializer::new(&amp;registry);
</span></span><span class="z-source z-diff"><span class="z-markup z-inserted z-diff"><span class="z-punctuation z-definition z-inserted z-diff">+</span> let reflect_deserializer = ReflectDeserializer::new(&amp;registry);
</span></span></code></pre>
<h3 id="implement-reflect-for-result-t-e-as-enum"><a href="https://github.com/bevyengine/bevy/pull/13182">Implement Reflect for Result&lt;T, E&gt; as enum</a>
<a class="anchor-link" href="#implement-reflect-for-result-t-e-as-enum">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
</div>
<p><code>Result&lt;T, E&gt;</code> has had its <code>Reflect</code> implementation changed to align it with <code>Option&lt;T&gt;</code> and its intended semantics: A carrier of either an <code>Ok</code> or <code>Err</code> value, and the ability to access it. To achieve this it is no longer a <code>ReflectKind::Value</code> but rather a <code>ReflectKind::Enum</code> and as such carries these changes with it:</p>
<p>For <code>Result&lt;T, E&gt;</code></p>
<ul>
<li>Both <code>T</code> and <code>E</code> no longer require to be <code>Clone</code> and now require to be <code>FromReflect</code></li>
<li><code>&lt;Result&lt;T, E&gt; as Reflect&gt;::reflect_*</code> now returns a <code>ReflectKind::Enum</code>, so any code that previously relied on it being a <code>Value</code> kind will have to be adapted.</li>
<li><code>Result&lt;T, E&gt;</code> now implements <code>Enum</code></li>
</ul>
<p>Since the migration is highly dependent on the previous usage, no automatic upgrade path can be given.</p>
<h3 id="avoid-bevy-reflect-list-iter-wrapping-in-release-mode"><a href="https://github.com/bevyengine/bevy/pull/13271">Avoid bevy_reflect::List::iter wrapping in release mode</a>
<a class="anchor-link" href="#avoid-bevy-reflect-list-iter-wrapping-in-release-mode">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
</div>
<h3 id="fix-typeregistry-use-in-dynamic-scene"><a href="https://github.com/bevyengine/bevy/pull/12715">Fix TypeRegistry use in dynamic scene</a>
<a class="anchor-link" href="#fix-typeregistry-use-in-dynamic-scene">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Reflection</div>
<div class="migration-guide-area-tag">Scenes</div>
</div>
<ul>
<li><code>SceneSerializer</code> and all related serializing helper types now take a <code>&amp;TypeRegistry</code> instead of a <code>&amp;TypeRegistryArc</code>. You can upgrade by getting the former from the latter with <code>TypeRegistryArc::read()</code>, <em>e.g.</em></li>
</ul>
<pre data-lang="diff" class="language-diff z-code"><code class="language-diff" data-lang="diff"><span class="z-source z-diff">  let registry_arc: TypeRegistryArc = [...];
</span><span class="z-source z-diff"><span class="z-markup z-deleted z-diff"><span class="z-punctuation z-definition z-deleted z-diff">-</span> let serializer = SceneSerializer(&amp;scene, &amp;registry_arc);
</span></span><span class="z-source z-diff"><span class="z-markup z-inserted z-diff"><span class="z-punctuation z-definition z-inserted z-diff">+</span> let registry = registry_arc.read();
</span></span><span class="z-source z-diff"><span class="z-markup z-inserted z-diff"><span class="z-punctuation z-definition z-inserted z-diff">+</span> let serializer = SceneSerializer(&amp;scene, &amp;registry);
</span></span></code></pre>
<ul>
<li>Rename <code>DynamicScene::serialize_ron()</code> to <code>serialize()</code>.</li>
</ul>
<h3 id="rename-camera3dbundle-s-dither-field-to-deband-dither-to-align-with-camera2dbundle"><a href="https://github.com/bevyengine/bevy/pull/11939">rename Camera3dBundle's 'dither' field to 'deband_dither' to align with Camera2dBundle</a>
<a class="anchor-link" href="#rename-camera3dbundle-s-dither-field-to-deband-dither-to-align-with-camera2dbundle">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>use the new <code>deband_dither</code> field name with <code>Camera3dBundle</code>, rather than the old field name, <code>dither</code></li>
</ul>
<h3 id="add-support-for-khr-texture-transform"><a href="https://github.com/bevyengine/bevy/pull/11904">Add support for KHR_texture_transform</a>
<a class="anchor-link" href="#add-support-for-khr-texture-transform">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>Rename <code>affine_to_square</code> to <code>affine3_to_square</code></p>
<h3 id="move-alphamode-into-bevy-render"><a href="https://github.com/bevyengine/bevy/pull/12012">Move AlphaMode into bevy_render</a>
<a class="anchor-link" href="#move-alphamode-into-bevy-render">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>In the present implementation, external consumers of <code>AlphaMode</code> will have to access it through bevy_render rather than through bevy_pbr, changing their import from <code>bevy_pbr::AlphaMode</code> to <code>bevy_render::alpha::AlphaMode</code> (or the corresponding glob import from <code>bevy_pbr::prelude::*</code> to <code>bevy_render::prelude::*</code>).</p>
<h3 id="prefer-uvec2-when-working-with-texture-dimensions"><a href="https://github.com/bevyengine/bevy/pull/11698">Prefer <code>UVec2</code> when working with texture dimensions</a>
<a class="anchor-link" href="#prefer-uvec2-when-working-with-texture-dimensions">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Change floating point types (<code>Vec2</code>, <code>Rect</code>) to their respective unsigned integer versions (<code>UVec2</code>, <code>URect</code>) when using <code>GpuImage</code>, <code>TextureAtlasLayout</code>, <code>TextureAtlasBuilder</code>, <code>DynamicAtlasTextureBuilder</code> or <code>FontAtlas</code>.</li>
</ul>
<h3 id="fix-cameraprojectionplugin-not-implementing-plugin-in-some-cases"><a href="https://github.com/bevyengine/bevy/pull/11766">Fix <code>CameraProjectionPlugin</code> not implementing <code>Plugin</code> in some cases</a>
<a class="anchor-link" href="#fix-cameraprojectionplugin-not-implementing-plugin-in-some-cases">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><code>CameraProjectionPlugin&lt;T&gt;</code>s trait bounds now require <code>T</code> to implement <code>CameraProjection</code>, <code>Component</code>, and <code>GetTypeRegistration</code>. This shouldnt affect most existing code as <code>CameraProjectionPlugin&lt;T&gt;</code> never implemented <code>Plugin</code> unless those bounds were met.</p>
<h3 id="add-random-shader-utils-fix-cluster-debug-visualization"><a href="https://github.com/bevyengine/bevy/pull/11956">Add random shader utils, fix cluster_debug_visualization</a>
<a class="anchor-link" href="#add-random-shader-utils-fix-cluster-debug-visualization">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The <code>bevy_pbr::utils::random1D</code> shader function has been replaced by the similar <code>bevy_pbr::utils::rand_f</code>.</li>
</ul>
<h3 id="intern-mesh-vertex-buffer-layouts-so-that-we-don-t-have-to-compare-them-over-and-over"><a href="https://github.com/bevyengine/bevy/pull/12216">Intern mesh vertex buffer layouts so that we don't have to compare them over and over.</a>
<a class="anchor-link" href="#intern-mesh-vertex-buffer-layouts-so-that-we-don-t-have-to-compare-them-over-and-over">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Duplicate <code>MeshVertexBufferLayout</code>s are now combined into a single object, <code>MeshVertexBufferLayoutRef</code>, which contains an atomically-reference-counted pointer to the layout. Code that was using <code>MeshVertexBufferLayout</code> may need to be updated to use <code>MeshVertexBufferLayoutRef</code> instead.</li>
</ul>
<h3 id="batching-replace-gpuarraybufferindex-index-with-a-u32"><a href="https://github.com/bevyengine/bevy/pull/12250">Batching: replace GpuArrayBufferIndex::index with a u32</a>
<a class="anchor-link" href="#batching-replace-gpuarraybufferindex-index-with-a-u32">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><code>GpuArrayBufferIndex::index</code> is now a u32 instead of a <code>NonMaxU32</code>. Remove any calls to <code>NonMaxU32::get</code> on the member.</p>
<h3 id="solve-some-oklaba-inconsistencies"><a href="https://github.com/bevyengine/bevy/pull/12526">Solve some oklaba inconsistencies</a>
<a class="anchor-link" href="#solve-some-oklaba-inconsistencies">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>If you were creating a Oklaba instance directly, instead of using L, you should use lightness</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Before
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> oklaba <span class="z-keyword z-operator z-assignment z-rust">=</span> Oklaba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> l<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-type z-rust">Default</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> Now
</span></span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> oklaba <span class="z-keyword z-operator z-assignment z-rust">=</span> Oklaba <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span> lightness<span class="z-punctuation z-separator z-rust">:</span> <span class="z-constant z-numeric z-float z-rust">1.</span><span class="z-punctuation z-separator z-rust">,</span> <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-type z-rust">Default</span><span class="z-meta z-path z-rust"><span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<p>if you were using the function <code>Oklaba::lch</code>, now the method is named <code>Oklaba::lab</code></p>
<h3 id="add-setting-to-enable-disable-shadows-to-materialplugin"><a href="https://github.com/bevyengine/bevy/pull/12538">Add setting to enable/disable shadows to MaterialPlugin</a>
<a class="anchor-link" href="#add-setting-to-enable-disable-shadows-to-materialplugin">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>MaterialPlugin</code> now has a <code>shadows_enabled</code> setting, if you didnt spawn the plugin using <code>::default()</code> or <code>..default()</code>, youll need to set it. <code>shadows_enabled: true</code> is the same behavior as the previous version, and also the default value.</li>
</ul>
<h3 id="implement-maths-and-animatable-for-srgba"><a href="https://github.com/bevyengine/bevy/pull/12649">Implement maths and <code>Animatable</code> for <code>Srgba</code></a>
<a class="anchor-link" href="#implement-maths-and-animatable-for-srgba">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The previously existing implementation of mul/div for <code>Srgba</code> did not modify <code>alpha</code> but these operations do modify <code>alpha</code> now. Users need to be aware of this change.</li>
</ul>
<h3 id="remove-needless-color-specializaion-for-spritepipeline"><a href="https://github.com/bevyengine/bevy/pull/12559">Remove needless color specializaion for <code>SpritePipeline</code></a>
<a class="anchor-link" href="#remove-needless-color-specializaion-for-spritepipeline">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The raw values for the <code>HDR</code>, <code>TONEMAP_IN_SHADER</code> and <code>DEBAND_DITHER</code> flags have changed, so if you were constructing the pipeline key from raw <code>u32</code>s youll have to account for that.</li>
</ul>
<h3 id="improve-performance-by-binning-together-opaque-items-instead-of-sorting-them"><a href="https://github.com/bevyengine/bevy/pull/12453">Improve performance by binning together opaque items instead of sorting them.</a>
<a class="anchor-link" href="#improve-performance-by-binning-together-opaque-items-instead-of-sorting-them">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>PhaseItem</code> has been split into <code>BinnedPhaseItem</code> and <code>SortedPhaseItem</code>. If your code has custom <code>PhaseItem</code>s, you will need to migrate them to one of these two types. <code>SortedPhaseItem</code> requires the fewest code changes, but you may want to pick <code>BinnedPhaseItem</code> if your phase doesnt require sorting, as that enables higher performance.</li>
</ul>
<h3 id="fix-crash-on-linux-nvidia-550-driver"><a href="https://github.com/bevyengine/bevy/pull/12542">Fix crash on Linux Nvidia 550 driver</a>
<a class="anchor-link" href="#fix-crash-on-linux-nvidia-550-driver">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<h3 id="remove-deterministicrenderingconfig"><a href="https://github.com/bevyengine/bevy/pull/12811">remove <code>DeterministicRenderingConfig</code></a>
<a class="anchor-link" href="#remove-deterministicrenderingconfig">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Removed <code>DeterministicRenderingConfig</code>. There shouldnt be any z fighting anymore in the rendering even without setting <code>stable_sort_z_fighting</code></li>
</ul>
<h3 id="micro-optimize-queue-material-meshes-primarily-to-remove-bit-manipulation"><a href="https://github.com/bevyengine/bevy/pull/12791">Micro-optimize <code>queue_material_meshes</code>, primarily to remove bit manipulation.</a>
<a class="anchor-link" href="#micro-optimize-queue-material-meshes-primarily-to-remove-bit-manipulation">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The <code>primitive_topology</code> field on <code>GpuMesh</code> is now an accessor method: <code>GpuMesh::primitive_topology()</code>.</li>
<li>For performance reasons, <code>MeshPipelineKey</code> has been split into <code>BaseMeshPipelineKey</code>, which lives in <code>bevy_render</code>, and <code>MeshPipelineKey</code>, which lives in <code>bevy_pbr</code>. These two should be combined with bitwise-or to produce the final <code>MeshPipelineKey</code>.</li>
</ul>
<h3 id="disable-ray-query-and-ray-tracing-acceleration-structure-by-default"><a href="https://github.com/bevyengine/bevy/pull/12862">Disable RAY_QUERY and RAY_TRACING_ACCELERATION_STRUCTURE by default</a>
<a class="anchor-link" href="#disable-ray-query-and-ray-tracing-acceleration-structure-by-default">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>If you need  <code>wgpu::Features::RAY_QUERY</code> or <code>wgpu::Features::RAY_TRACING_ACCELERATION_STRUCTURE</code>, enable them explicitly using <code>WgpuSettings::features</code></li>
</ul>
<h3 id="add-previous-view-uniforms-inverse-view"><a href="https://github.com/bevyengine/bevy/pull/12902">Add previous_view_uniforms.inverse_view</a>
<a class="anchor-link" href="#add-previous-view-uniforms-inverse-view">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Renamed <code>prepass_bindings::previous_view_proj</code> to <code>prepass_bindings::previous_view_uniforms.view_proj</code>.</li>
<li>Renamed <code>PreviousViewProjectionUniformOffset</code> to <code>PreviousViewUniformOffset</code>.</li>
<li>Renamed <code>PreviousViewProjection</code> to <code>PreviousViewData</code>.</li>
</ul>
<h3 id="generate-meshuniforms-on-the-gpu-via-compute-shader-where-available"><a href="https://github.com/bevyengine/bevy/pull/12773">Generate <code>MeshUniform</code>s on the GPU via compute shader where available.</a>
<a class="anchor-link" href="#generate-meshuniforms-on-the-gpu-via-compute-shader-where-available">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>Custom render phases now need multiple systems beyond just <code>batch_and_prepare_render_phase</code>. Code that was previously creating custom render phases should now add a <code>BinnedRenderPhasePlugin</code> or <code>SortedRenderPhasePlugin</code> as appropriate instead of directly adding <code>batch_and_prepare_render_phase</code>.</li>
</ul>
<h3 id="flipping-texture-coords-methods-has-been-added-to-the-standardmaterial"><a href="https://github.com/bevyengine/bevy/pull/12917">flipping texture coords methods has been added to the StandardMaterial</a>
<a class="anchor-link" href="#flipping-texture-coords-methods-has-been-added-to-the-standardmaterial">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>Instead of using <code>Quad::flip</code> field, call <code>flipped(true, false)</code> method on the StandardMaterial instance when adding the mesh.</p>
<h3 id="implement-percentage-closer-filtering-pcf-for-point-lights"><a href="https://github.com/bevyengine/bevy/pull/12910">Implement percentage-closer filtering (PCF) for point lights.</a>
<a class="anchor-link" href="#implement-percentage-closer-filtering-pcf-for-point-lights">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>ShadowFilteringMethod::Castano13</code> and <code>ShadowFilteringMethod::Jimenez14</code> have been renamed to <code>ShadowFilteringMethod::Gaussian</code> and <code>ShadowFilteringMethod::Temporal</code> respectively.</li>
</ul>
<h3 id="divide-the-single-visibleentities-list-into-separate-lists-for-2d-meshes-3d-meshes-lights-and-ui-elements-for-performance"><a href="https://github.com/bevyengine/bevy/pull/12582">Divide the single <code>VisibleEntities</code> list into separate lists for 2D meshes, 3D meshes, lights, and UI elements, for performance.</a>
<a class="anchor-link" href="#divide-the-single-visibleentities-list-into-separate-lists-for-2d-meshes-3d-meshes-lights-and-ui-elements-for-performance">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>check_visibility</code> and <code>VisibleEntities</code> now store the four types of renderable entities2D meshes, 3D meshes, lights, and UI elementsseparately. If your custom rendering code examines <code>VisibleEntities</code>, it will now need to specify which type of entity its interested in using the <code>WithMesh2d</code>, <code>WithMesh</code>, <code>WithLight</code>, and <code>WithNode</code> types respectively. If your app introduces a new type of renderable entity, youll need to add an instance of the <code>check_visibility</code> system with the appropriate query filter to the main world schedule to accommodate your new component or components. For example:</li>
</ul>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust">app
</span><span class="z-source z-rust">    <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">add_systems</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        PostUpdate<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">        <span class="z-meta z-path z-rust">check_visibility<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-generic z-rust"><span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span><span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>MyCustomRenderable<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">            <span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">in_set</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-path z-rust">VisibilitySystems<span class="z-punctuation z-accessor z-rust">::</span></span>CheckVisibility</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    </span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>
<h3 id="fix-rendering-of-sprites-text-and-meshlets-after-12582"><a href="https://github.com/bevyengine/bevy/pull/12945">Fix rendering of sprites, text, and meshlets after #12582.</a>
<a class="anchor-link" href="#fix-rendering-of-sprites-text-and-meshlets-after-12582">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>Text</code> now requires a <code>SpriteSource</code> marker component in order to appear. This component has been added to <code>Text2dBundle</code>.</li>
</ul>
<h3 id="add-missing-default-impl-to-extendedmaterial"><a href="https://github.com/bevyengine/bevy/pull/13008">Add missing Default impl to ExtendedMaterial.</a>
<a class="anchor-link" href="#add-missing-default-impl-to-extendedmaterial">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<h3 id="expose-desired-maximum-frame-latency-through-window-creation"><a href="https://github.com/bevyengine/bevy/pull/12954">Expose <code>desired_maximum_frame_latency</code> through window creation</a>
<a class="anchor-link" href="#expose-desired-maximum-frame-latency-through-window-creation">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The <code>desired_maximum_frame_latency</code> field must be added to instances of <code>Window</code> and <code>ExtractedWindow</code> where all fields are explicitly specified.</li>
</ul>
<h3 id="fix-cameraprojection-panic-and-improve-cameraprojectionplugin"><a href="https://github.com/bevyengine/bevy/pull/11808">Fix <code>CameraProjection</code> panic and improve <code>CameraProjectionPlugin</code></a>
<a class="anchor-link" href="#fix-cameraprojection-panic-and-improve-cameraprojectionplugin">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><code>VisibilitySystems</code>s <code>UpdateOrthographicFrusta</code>, <code>UpdatePerspectiveFrusta</code>, and <code>UpdateProjectionFrusta</code> variants were removed, they were replaced with <code>VisibilitySystems::UpdateFrusta</code></p>
<h3 id="implement-filmic-color-grading"><a href="https://github.com/bevyengine/bevy/pull/13121">Implement filmic color grading.</a>
<a class="anchor-link" href="#implement-filmic-color-grading">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>ColorGrading::gamma</code> and <code>ColorGrading::pre_saturation</code> are now set separately for the <code>shadows</code>, <code>midtones</code>, and <code>highlights</code> sections. You can migrate code with the <code>ColorGrading::all_sections</code> and <code>ColorGrading::all_sections_mut</code> functions, which access and/or update all sections at once.</li>
<li><code>ColorGrading::post_saturation</code> and <code>ColorGrading::exposure</code> are now fields of <code>ColorGrading::global</code>.</li>
</ul>
<h3 id="add-buffervec-an-higher-performance-alternative-to-storagebuffer-and-make-gpuarraybuffer-use-it"><a href="https://github.com/bevyengine/bevy/pull/13199">Add BufferVec, an higher-performance alternative to StorageBuffer, and make GpuArrayBuffer use it.</a>
<a class="anchor-link" href="#add-buffervec-an-higher-performance-alternative-to-storagebuffer-and-make-gpuarraybuffer-use-it">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p><code>BufferVec</code> has been renamed to <code>RawBufferVec</code> and a new similar type has taken the <code>BufferVec</code> name.</p>
<h3 id="implement-clearcoat-per-the-filament-and-the-khr-materials-clearcoat-specifications"><a href="https://github.com/bevyengine/bevy/pull/13031">Implement clearcoat per the Filament and the <code>KHR_materials_clearcoat</code> specifications.</a>
<a class="anchor-link" href="#implement-clearcoat-per-the-filament-and-the-khr-materials-clearcoat-specifications">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li></li>
</ul>
<p>The lighting functions in the <code>pbr_lighting</code> WGSL module now have clearcoat parameters, if <code>STANDARD_MATERIAL_CLEARCOAT</code> is defined.</p>
<ul>
<li></li>
</ul>
<p>The <code>R</code> reflection vector parameter has been removed from some lighting functions, as it was unused.</p>
<h3 id="clean-up-2d-render-phases"><a href="https://github.com/bevyengine/bevy/pull/12982">Clean up 2d render phases</a>
<a class="anchor-link" href="#clean-up-2d-render-phases">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<p>If you were using <code>Node2d::MainPass</code> to order your own custom render node. You now need to order it relative to <code>Node2d::StartMainPass</code> or <code>Node2d::EndMainPass</code>.</p>
<h3 id="12502-remove-limit-on-renderlayers"><a href="https://github.com/bevyengine/bevy/pull/13317">#12502 Remove limit on RenderLayers.</a>
<a class="anchor-link" href="#12502-remove-limit-on-renderlayers">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li><code>RenderLayers::all()</code> no longer exists. Entities expecting to be visible on all layers, e.g. lights, should compute the active layers that are in use.</li>
</ul>
<h3 id="add-emissive-exposure-weight-to-the-standardmaterial"><a href="https://github.com/bevyengine/bevy/pull/13350">Add emissive_exposure_weight to the StandardMaterial</a>
<a class="anchor-link" href="#add-emissive-exposure-weight-to-the-standardmaterial">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<!-- TODO -->
<h3 id="make-render-phases-render-world-resources-instead-of-components"><a href="https://github.com/bevyengine/bevy/pull/13277">Make render phases render world resources instead of components.</a>
<a class="anchor-link" href="#make-render-phases-render-world-resources-instead-of-components">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
</div>
<ul>
<li>The <code>BinnedRenderPhase</code> and <code>SortedRenderPhase</code> render world components have been replaced with <code>ViewBinnedRenderPhases</code> and <code>ViewSortedRenderPhases</code> resources. Instead of querying for the components, look the camera entity up in the <code>ViewBinnedRenderPhases</code>/<code>ViewSortedRenderPhases</code> tables.</li>
</ul>
<h3 id="deprecate-spritesheetbundle-and-atlasimagebundle"><a href="https://github.com/bevyengine/bevy/pull/12218">Deprecate <code>SpriteSheetBundle</code> and <code>AtlasImageBundle</code></a>
<a class="anchor-link" href="#deprecate-spritesheetbundle-and-atlasimagebundle">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">UI</div>
</div>
<ul>
<li><code>SpriteSheetBundle</code> has been deprecated. Use <code>TextureAtlas</code> alongside a <code>SpriteBundle</code> instead.</li>
<li><code>AtlasImageBundle</code> has been deprecated. Use <code>TextureAtlas</code> alongside an <code>ImageBundle</code> instead.</li>
</ul>
<h3 id="decouple-backgroundcolor-from-uiimage"><a href="https://github.com/bevyengine/bevy/pull/11165">Decouple <code>BackgroundColor</code> from <code>UiImage</code></a>
<a class="anchor-link" href="#decouple-backgroundcolor-from-uiimage">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">UI</div>
</div>
<p>The <a href="https://docs.rs/bevy/0.14.0/bevy/prelude/struct.BackgroundColor.html"><code>BackgroundColor</code></a> component now renders a solid-color background behind <a href="https://docs.rs/bevy/0.14.0/bevy/prelude/struct.UiImage.html#structfield.color"><code>UiImage</code></a> instead of tinting its color. Use the <code>color</code> field of <code>UiImage</code> for tinting.</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.13
</span></span><span class="z-source z-rust">ButtonBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    background_color<span class="z-punctuation z-separator z-rust">:</span> my_color<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.14
</span></span><span class="z-source z-rust">ButtonBundle <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    image<span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-path z-rust">UiImage<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">with_color</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>my_color</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-operator z-range z-rust">..</span><span class="z-support z-function z-rust">default</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span>
</span></span><span class="z-source z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></code></pre>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.13
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">button_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&amp;</span>Interaction, <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> BackgroundColor<span class="z-punctuation z-section z-group z-end z-rust">)</span>, <span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Changed<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>Interaction<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>Button<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>interaction<span class="z-punctuation z-separator z-rust">,</span> <span class="z-storage z-modifier z-rust">mut</span> color</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> query <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">match</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>interaction <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">Interaction<span class="z-punctuation z-accessor z-rust">::</span></span>Pressed <span class="z-keyword z-operator z-rust">=&gt;</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                <span class="z-keyword z-operator z-arithmetic z-rust">*</span>color <span class="z-keyword z-operator z-assignment z-rust">=</span> my_color<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span><span class="z-source z-rust"><span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> 0.14
</span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-rust"><span class="z-storage z-type z-function z-rust">fn</span> </span><span class="z-entity z-name z-function z-rust">button_system</span></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-begin z-rust">(</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust">    <span class="z-storage z-modifier z-rust">mut</span> <span class="z-variable z-parameter z-rust">query</span><span class="z-punctuation z-separator z-rust">:</span> <span class="z-meta z-generic z-rust">Query<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span><span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-keyword z-operator z-rust">&amp;</span>Interaction, <span class="z-keyword z-operator z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> UiImage<span class="z-punctuation z-section z-group z-end z-rust">)</span>, <span class="z-punctuation z-section z-group z-begin z-rust">(</span><span class="z-meta z-generic z-rust">Changed<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>Interaction<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>, <span class="z-meta z-generic z-rust">With<span class="z-punctuation z-definition z-generic z-begin z-rust">&lt;</span>Button<span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span><span class="z-punctuation z-section z-group z-end z-rust">)</span><span class="z-punctuation z-definition z-generic z-end z-rust">&gt;</span></span>,
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"></span><span class="z-meta z-function z-rust"><span class="z-meta z-function z-parameters z-rust"><span class="z-punctuation z-section z-parameters z-end z-rust">)</span></span></span></span><span class="z-meta z-function z-rust"> </span><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust">    <span class="z-keyword z-control z-rust">for</span> <span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>interaction<span class="z-punctuation z-separator z-rust">,</span> <span class="z-storage z-modifier z-rust">mut</span> image</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span> <span class="z-keyword z-operator z-rust">in</span> <span class="z-keyword z-operator z-bitwise z-rust">&amp;</span><span class="z-storage z-modifier z-rust">mut</span> query <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        <span class="z-keyword z-control z-rust">match</span> <span class="z-keyword z-operator z-arithmetic z-rust">*</span>interaction <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-meta z-path z-rust">Interaction<span class="z-punctuation z-accessor z-rust">::</span></span>Pressed <span class="z-keyword z-operator z-rust">=&gt;</span> <span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">                image<span class="z-punctuation z-accessor z-dot z-rust">.</span>color <span class="z-keyword z-operator z-assignment z-rust">=</span> my_color<span class="z-punctuation z-terminator z-rust">;</span>
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">            <span class="z-comment z-line z-double-slash z-rust"><span class="z-punctuation z-definition z-comment z-rust">//</span> ...
</span></span></span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">        </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"><span class="z-meta z-block z-rust">    </span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span>
</span></span></span><span class="z-source z-rust"><span class="z-meta z-function z-rust"><span class="z-meta z-block z-rust"></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span></span>
</span></code></pre>
<p>Some UI systems have been split or renamed.</p>
<ul>
<li><code>bevy_ui::RenderUiSystem::ExtractNode</code> has been split into <code>ExtractBackgrounds</code>, <code>ExtractImages</code>, <code>ExtractBorders</code>, and <code>ExtractText</code>.</li>
<li><code>bevy_ui::extract_uinodes</code> has been split into <code>bevy_ui::extract_uinode_background_colors</code> and <code>bevy_ui::extract_uinode_images</code>.</li>
<li><code>bevy_ui::extract_text_uinodes</code> has been renamed to <code>extract_uinode_text</code>.</li>
</ul>
<h3 id="fix-ui-elements-randomly-not-appearing-after-13277"><a href="https://github.com/bevyengine/bevy/pull/13462">Fix UI elements randomly not appearing after #13277.</a>
<a class="anchor-link" href="#fix-ui-elements-randomly-not-appearing-after-13277">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">UI</div>
</div>
<ul>
<li>The <code>bevy_ui::render::extract_default_ui_camera_view</code> system is no longer parameterized over the specific type of camera and is hard-wired to either <code>Camera2d</code> or <code>Camera3d</code> components.</li>
</ul>
<h3 id="fix12527-changes-to-make-serde-optional-for-bevy-color"><a href="https://github.com/bevyengine/bevy/pull/12666">FIX12527: Changes to make serde optional for bevy_color</a>
<a class="anchor-link" href="#fix12527-changes-to-make-serde-optional-for-bevy-color">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">Utils</div>
</div>
<ul>
<li>If user wants color data structures to be serializable, then application needs to be build with flag serialize</li>
</ul>
<h3 id="configure-surface-needs-to-be-on-the-main-thread-on-ios"><a href="https://github.com/bevyengine/bevy/pull/12055">configure_surface needs to be on the main thread on iOS</a>
<a class="anchor-link" href="#configure-surface-needs-to-be-on-the-main-thread-on-ios">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">Windowing</div>
</div>
<p>System <code>need_new_surfaces</code> has been renamed <code>need_surface_configuration</code> and now also configure the surfaces on window creation or resizing</p>
<h3 id="introduce-a-windowwrapper-to-extend-the-lifetime-of-the-window-when-using-pipelined-rendering"><a href="https://github.com/bevyengine/bevy/pull/12978">Introduce a <code>WindowWrapper</code> to extend the lifetime of the window when using pipelined rendering</a>
<a class="anchor-link" href="#introduce-a-windowwrapper-to-extend-the-lifetime-of-the-window-when-using-pipelined-rendering">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Rendering</div>
<div class="migration-guide-area-tag">Windowing</div>
</div>
<ul>
<li>Windowing backends now need to store their window in the new <code>WindowWrapper</code>.</li>
</ul>
<h3 id="add-an-index-argument-to-parallel-iteration-helpers-in-bevy-tasks"><a href="https://github.com/bevyengine/bevy/pull/12169">Add an index argument to parallel iteration helpers in bevy_tasks</a>
<a class="anchor-link" href="#add-an-index-argument-to-parallel-iteration-helpers-in-bevy-tasks">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Tasks</div>
</div>
<p>Functions passed as arguments to <code>par_chunk_map</code>, <code>par_splat_map</code>, <code>par_chunk_map_mut</code>, and <code>par_splat_map_mut</code> must now take an additional index argument.</p>
<h3 id="use-dir3-in-transform-apis"><a href="https://github.com/bevyengine/bevy/pull/12530">Use <code>Dir3</code> in <code>Transform</code> APIs</a>
<a class="anchor-link" href="#use-dir3-in-transform-apis">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Transform</div>
</div>
<p>This is not a breaking change since the arguments were previously <code>Vec3</code> which already implements <code>TryInto&lt;Dir3&gt;</code>, and behavior is unchanged.</p>
<h3 id="fix-12255-updating-targetcamera-on-multi-camera-scenes-not-allowing-layout-to-be-calculated"><a href="https://github.com/bevyengine/bevy/pull/12268">Fix #12255 Updating TargetCamera on multi camera scenes not allowing layout to be calculated</a>
<a class="anchor-link" href="#fix-12255-updating-targetcamera-on-multi-camera-scenes-not-allowing-layout-to-be-calculated">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">UI</div>
</div>
<p>changes affect private structs/members so shouldnt need actions by engine users.</p>
<h3 id="restore-pre-0-13-1-root-node-layout-behavior"><a href="https://github.com/bevyengine/bevy/pull/12698">Restore pre 0.13.1 Root Node Layout behavior</a>
<a class="anchor-link" href="#restore-pre-0-13-1-root-node-layout-behavior">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">UI</div>
</div>
<p>If you were affected by the 0.13.1 regression and added <code>position_type: Absolute</code> to all your root nodes you might be able to reclaim some LOC by removing them now that the 0.13 behavior is restored.</p>
<h3 id="rename-rect-inset-method-to-inflate"><a href="https://github.com/bevyengine/bevy/pull/13452">Rename <code>Rect</code> <code>inset()</code> method to <code>inflate()</code></a>
<a class="anchor-link" href="#rename-rect-inset-method-to-inflate">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">UI</div>
</div>
<ul>
<li>Replace <code>Rect::inset()</code>, <code>IRect::inset()</code> and <code>URect::inset()</code> calls with <code>inflate()</code>.</li>
</ul>
<h3 id="disentangle-bevy-utils-bevy-core-s-reexported-dependencies"><a href="https://github.com/bevyengine/bevy/pull/12313">Disentangle bevy_utils/bevy_core's reexported dependencies</a>
<a class="anchor-link" href="#disentangle-bevy-utils-bevy-core-s-reexported-dependencies">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Utils</div>
</div>
<p>bevy_utils reexports of petgraph, uuid, nonmax, smallvec, and thiserror have been removed. </p>
<p>bevy_core reexports of bytemucks types has been removed. </p>
<p>Add them as dependencies in your own crate instead.</p>
<h3 id="fix-fit-canvas-to-parent"><a href="https://github.com/bevyengine/bevy/pull/11278">Fix fit_canvas_to_parent</a>
<a class="anchor-link" href="#fix-fit-canvas-to-parent">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Windowing</div>
</div>
<ul>
<li>Cancels the migration from https://github.com/bevyengine/bevy/pull/11057</li>
</ul>
<h3 id="clean-up-winitwindows-remove-window"><a href="https://github.com/bevyengine/bevy/pull/12749">Clean up WinitWindows::remove_window</a>
<a class="anchor-link" href="#clean-up-winitwindows-remove-window">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Windowing</div>
</div>
<ul>
<li><code>WinitWindows::get_window_entity</code> now returns <code>None</code> after a window is closed, instead of a dead entity.</li>
</ul>
<h3 id="ensure-clean-exit"><a href="https://github.com/bevyengine/bevy/pull/13236">Ensure clean exit</a>
<a class="anchor-link" href="#ensure-clean-exit">#</a>
</h3>
<div class="migration-guide-area-tags">
<div class="migration-guide-area-tag">Windowing</div>
</div>
<ul>
<li>Ensure custom exit logic does not rely on the app exiting the same frame as a window is closed.</li>
</ul>
</div>

        
      </div>
      <div class="docs-footer print:hidden">
        <nav class="docs-footer__nav">
          
            <a class="docs-footer__link docs-footer__link--next"
                href="&#x2F;learn&#x2F;migration-guides&#x2F;introduction&#x2F;"
                data-docs-nav-next>
              <div class="docs-footer__label">
                <div class="docs-footer__dir">Next</div>
                Introduction
              </div>
              <i class="docs-footer__chevron icon icon--chevron-right"></i>
            </a>
          
          
        </nav>
        <div class="docs-footer__edit-wrapper">
          <a class="docs-footer__edit"
              href="https://github.com/bevyengine/bevy-website/edit/main/content/learn&#x2F;migration-guides&#x2F;0.13-to-0.14.md">
            <i class="icon icon--pencil"></i>
            Improve this page
          </a>
        </div>
      </div>
    </div>
  </div>

    </div>
  </div>

        </div>
      </main>
      <footer class="print:hidden">
        
        <div class="footer__social-container">
          <a class="footer__social" href="https://github.com/bevyengine/bevy">
            <img src="/assets/github-mark-white.svg"
                  alt="Bevy engine's GitHub repo"
                  width="32"
                  height="32" />
          </a>
          <a class="footer__social" href="https://discord.gg/bevy">
            <img src="/assets/discord.svg"
                  alt="Bevy Discord server"
                  width="32"
                  height="32" />
          </a>
          <a class="footer__social" href="https://mastodon.social/@bevy">
            <img src="/assets/mastodon-logo-purple.svg"
                  alt="Bevy Mastodon account"
                  width="32"
                  height="32" />
          </a>
          <a class="footer__social" href="https://twitter.com/BevyEngine">
            <img src="/assets/twitter.svg"
                  alt="Bevy Twitter account"
                  width="32"
                  height="32" />
          </a>
          <a class="footer__social" href="https://www.reddit.com/r/bevy/">
            <img src="/assets/reddit.svg"
                  alt="Bevy subreddit"
                  width="32"
                  height="32" />
          </a>
          <a class="footer__social" href="/atom.xml">
            <img src="/assets/feed.svg"
                  alt="Bevy news feed"
                  width="32"
                  height="32" />
          </a>
        </div>
      </footer>
    </div>
    <script>
    const search_params = new URLSearchParams(window.location.search);
    if (search_params.has("show_drafts") || document.cookie.indexOf("show_drafts") >= 0) {
      if (search_params.get("show_drafts") === "0") {
        document.cookie = "show_drafts=;path=/;expires=Thu, 01 Jan 1970 00:00:00 UTC";
      } else {
        document.cookie = "show_drafts=1;path=/"
        document.body.classList.add('show_drafts');
      }
    }
    </script>
  </body>
</html>
